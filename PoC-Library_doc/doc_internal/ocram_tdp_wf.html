
<style>
  table {
    width:70%;
    margin-left: auto;
    margin-right: auto
  }
  svg {
    display:block;  
    width:60%;
    margin-left: auto;
    margin-right: auto
  }
  h1, h2, h3 {
    margin-left:1.5%;
    width:98%;
    font-weight:bold
  }
  code {
    color:#545253;
  }
  p {
    width: 98%;
    color:black;
    margin-top:5px;
    margin-bottom:5px 
  }
  * {
    color:black;
    line-height: 1.6;
  }
  li{
    margin: 20px 0;
  }
  #function_return{
    font-weight: bold;
    color:green;
  }
  #teroshdl_description, li {
    width: 95%;
    margin-left:2%;
    margin-right:2%;
  }
  #function_arguments{
    color:black;
  }
  #descriptions{
    width: 90%;
    margin-left:5.5%;
    margin-right:3%;
  }
  div.templateTerosHDL {
    background-color: white;
    position:absolute;
  }
  td, th {
    padding:2px; 
    border: 1px solid grey;
  }
  th {
    background-color: #ffd78c;
  }
  tr:hover {
    background-color: #ddd;
  }
  tr:nth-child(even){
    background-color: #f2f2f2;
  }
</style>
<div id="teroshdl" class='templateTerosHDL'>
<a id=ocram_tdp_wf><h1 id="entity-ocram_tdp_wf">Entity: ocram_tdp_wf</h1></a><h2 id="diagram">Diagram</h2><p><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 945 250"><svg id="SvgjsSvg1002" width="2" height="0" focusable="false" style="overflow:hidden;top:-100%;left:-100%;position:absolute;opacity:0"><polyline id="SvgjsPolyline1003" points="395,0 410,0"></polyline><path id="SvgjsPath1004" d="M0 0 "></path></svg><rect id="SvgjsRect1006" width="140" height="70" fill="black" x="410" y="0"></rect><rect id="SvgjsRect1007" width="136" height="65" fill="#bdecb6" x="412" y="2"></rect><text id="SvgjsText1008" font-family="Helvetica" x="390" y="-5.698437500000001" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1009" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   positive </tspan></text><text id="SvgjsText1010" font-family="Helvetica" x="425" y="-5.698437500000001" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1011" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   A_BITS </tspan></text><line id="SvgjsLine1012" x1="395" y1="15" x2="410" y2="15" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1013" font-family="Helvetica" x="390" y="14.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1014" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   positive </tspan></text><text id="SvgjsText1015" font-family="Helvetica" x="425" y="14.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1016" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   D_BITS </tspan></text><line id="SvgjsLine1017" x1="395" y1="35" x2="410" y2="35" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1018" font-family="Helvetica" x="390" y="34.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1019" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   string </tspan></text><text id="SvgjsText1020" font-family="Helvetica" x="425" y="34.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1021" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   FILENAME </tspan></text><line id="SvgjsLine1022" x1="395" y1="55" x2="410" y2="55" stroke-linecap="rec" stroke="black" stroke-width="5"></line><rect id="SvgjsRect1023" width="140" height="170" fill="black" x="410" y="75"></rect><rect id="SvgjsRect1024" width="136" height="165" fill="#fdfd96" x="412" y="77"></rect><text id="SvgjsText1025" font-family="Helvetica" x="390" y="69.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1026" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1027" font-family="Helvetica" x="425" y="69.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1028" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   clk </tspan></text><line id="SvgjsLine1029" x1="395" y1="90" x2="410" y2="90" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1030" font-family="Helvetica" x="390" y="89.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1031" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1032" font-family="Helvetica" x="425" y="89.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1033" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   ce </tspan></text><line id="SvgjsLine1034" x1="395" y1="110" x2="410" y2="110" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1035" font-family="Helvetica" x="390" y="109.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1036" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1037" font-family="Helvetica" x="425" y="109.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1038" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   we1 </tspan></text><line id="SvgjsLine1039" x1="395" y1="130" x2="410" y2="130" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1040" font-family="Helvetica" x="390" y="129.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1041" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1042" font-family="Helvetica" x="425" y="129.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1043" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   we2 </tspan></text><line id="SvgjsLine1044" x1="395" y1="150" x2="410" y2="150" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1045" font-family="Helvetica" x="390" y="149.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1046" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   unsigned(A_BITS-1 downto 0) </tspan></text><text id="SvgjsText1047" font-family="Helvetica" x="425" y="149.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1048" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   a1 </tspan></text><line id="SvgjsLine1049" x1="395" y1="170" x2="410" y2="170" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1050" font-family="Helvetica" x="390" y="169.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1051" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   unsigned(A_BITS-1 downto 0) </tspan></text><text id="SvgjsText1052" font-family="Helvetica" x="425" y="169.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1053" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   a2 </tspan></text><line id="SvgjsLine1054" x1="395" y1="190" x2="410" y2="190" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1055" font-family="Helvetica" x="390" y="189.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1056" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   std_logic_vector(D_BITS-1 downto 0) </tspan></text><text id="SvgjsText1057" font-family="Helvetica" x="425" y="189.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1058" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   d1 </tspan></text><line id="SvgjsLine1059" x1="395" y1="210" x2="410" y2="210" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1060" font-family="Helvetica" x="390" y="209.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1061" dy="26" x="390" svgjs:data="{&quot;newLined&quot;:true}">   std_logic_vector(D_BITS-1 downto 0) </tspan></text><text id="SvgjsText1062" font-family="Helvetica" x="425" y="209.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1063" dy="26" x="425" svgjs:data="{&quot;newLined&quot;:true}">   d2 </tspan></text><line id="SvgjsLine1064" x1="395" y1="230" x2="410" y2="230" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1065" font-family="Helvetica" x="570" y="69.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1066" dy="26" x="570" svgjs:data="{&quot;newLined&quot;:true}">   std_logic_vector(D_BITS-1 downto 0) </tspan></text><text id="SvgjsText1067" font-family="Helvetica" x="535" y="69.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1068" dy="26" x="535" svgjs:data="{&quot;newLined&quot;:true}">   q1 </tspan></text><line id="SvgjsLine1069" x1="550" y1="90" x2="565" y2="90" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1070" font-family="Helvetica" x="570" y="89.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1071" dy="26" x="570" svgjs:data="{&quot;newLined&quot;:true}">   std_logic_vector(D_BITS-1 downto 0) </tspan></text><text id="SvgjsText1072" font-family="Helvetica" x="535" y="89.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1073" dy="26" x="535" svgjs:data="{&quot;newLined&quot;:true}">   q2 </tspan></text><line id="SvgjsLine1074" x1="550" y1="110" x2="565" y2="110" stroke-linecap="rec" stroke="black" stroke-width="5"></line></svg></p><h2 id="description">Description</h2><div id="teroshdl_description"><p>EMACS settings: -<em>-  tab-width: 2; indent-tabs-mode: t -</em>- vim: tabstop=2:shiftwidth=2:noexpandtab kate: tab-width 2; replace-tabs off; indent-width 2; ============================================================================= Authors:                    Martin Zabel Entity:                    True dual-port memory with write-first behavior. Description:</p><hr /><p>Inferring / instantiating true dual-port memory, with:</p><ul><li>single clock, clock enable,</li><li>2 read/write ports.Command truth table:== === === =====================================================ce we1 we2 Command== === === =====================================================0   X   X  No operation1   0   0  Read only from memory1   0   1  Read from memory on port 1, write to memory on port 21   1   0  Write to memory on port 1, read from memory on port 21   1   1  Write to memory on both ports== === === =====================================================Both reads and writes are synchronous to the clock.The generalized behavior across Altera and Xilinx FPGAs sinceStratix/Cyclone and Spartan-3/Virtex-5, respectively, is as follows:Same-Port Read-During-WriteWhen writing data through port 1, the read output of the same port(<code>q1</code>) will output the new data (<code>d1</code>, in the following clock cycle)which is aka. "write-first behavior".Same applies to port 2.Mixed-Port Read-During-WriteWhen reading at the write address, the read value will be the new data,aka. "write-first behavior". Of course, the read is still synchronous,i.e, the latency is still one clock cyle.If a write is issued on both ports to the same address, then the output ofthis unit and the content of the addressed memory cell are undefined.For simulation, always our dedicated simulation model :ref:<code>IP:ocram_tdp_sim</code>is used.License:=============================================================================Copyright 2008-2016 Technische Universitaet Dresden - GermanyLicensed under the Apache License, Version 2.0 (the "License");you may not use this file except in compliance with the License.You may obtain a copy of the License atUnless required by applicable law or agreed to in writing, softwaredistributed under the License is distributed on an "AS IS" BASIS,WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.See the License for the specific language governing permissions andlimitations under the License.=============================================================================</li></ul></div><h2 id="generics">Generics</h2>
<table>
<thead>
<tr>
<th id="generic_name">Generic name</th>
<th id="type">Type</th>
<th id="value">Value</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>A_BITS</td>
<td>positive</td>
<td></td>
<td>number of address bits</td>
</tr>
<tr>
<td>D_BITS</td>
<td>positive</td>
<td></td>
<td>number of data bits</td>
</tr>
<tr>
<td>FILENAME</td>
<td>string</td>
<td>""</td>
<td>file-name for RAM initialization</td>
</tr>
</tbody>
</table>
<h2 id="ports">Ports</h2>
<table>
<thead>
<tr>
<th id="port_name">Port name</th>
<th id="direction">Direction</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clk</td>
<td>in</td>
<td>std_logic</td>
<td>clock</td>
</tr>
<tr>
<td>ce</td>
<td>in</td>
<td>std_logic</td>
<td>clock-enable</td>
</tr>
<tr>
<td>we1</td>
<td>in</td>
<td>std_logic</td>
<td>write-enable for 1st port</td>
</tr>
<tr>
<td>we2</td>
<td>in</td>
<td>std_logic</td>
<td>write-enable for 2nd port</td>
</tr>
<tr>
<td>a1</td>
<td>in</td>
<td>unsigned(A_BITS-1 downto 0)</td>
<td>address for 1st port</td>
</tr>
<tr>
<td>a2</td>
<td>in</td>
<td>unsigned(A_BITS-1 downto 0)</td>
<td>address for 2nd port</td>
</tr>
<tr>
<td>d1</td>
<td>in</td>
<td>std_logic_vector(D_BITS-1 downto 0)</td>
<td>write-data for 1st port</td>
</tr>
<tr>
<td>d2</td>
<td>in</td>
<td>std_logic_vector(D_BITS-1 downto 0)</td>
<td>write-data for 2nd port</td>
</tr>
<tr>
<td>q1</td>
<td>out</td>
<td>std_logic_vector(D_BITS-1 downto 0)</td>
<td>read-data from 1st port</td>
</tr>
<tr>
<td>q2</td>
<td>out</td>
<td>std_logic_vector(D_BITS-1 downto 0)</td>
<td>read-data from 2nd port</td>
</tr>
</tbody>
</table><h2 id="signals">Signals</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>wd1_r</td>
<td>std_logic_vector(d1'range)</td>
<td>write data from port 1</td>
</tr>
<tr>
<td>wd2_r</td>
<td>std_logic_vector(d2'range)</td>
<td>write data from port 2</td>
</tr>
<tr>
<td>fwd1_r</td>
<td>std_logic</td>
<td>forward write data from port 1 to port 2</td>
</tr>
<tr>
<td>fwd2_r</td>
<td>std_logic</td>
<td>forward write data from port 2 to port 1</td>
</tr>
<tr>
<td>ram_q1</td>
<td>std_logic_vector(q1'range)</td>
<td>RAM output, port 1</td>
</tr>
<tr>
<td>ram_q2</td>
<td>std_logic_vector(q2'range)</td>
<td>RAM output, port 2</td>
</tr>
</tbody>
</table><h2 id="functions">Functions</h2><ul>
<li>addr_equal <font id="function_arguments">(a1 : unsigned; a2 : unsigned) </font> <font id="function_return">return X01 </font></li>
</ul><div id="descriptions"><p><strong>Description</strong><br />
Compares two addresses, returns 'X' if either <code>a1</code> or <code>a2</code> containsmeta-values, otherwise returns '1' if <code>a1 == a2</code> is true else'0'. Returns 'X' even when the addresses contain '-' values, to signal anundefined outcome.</p></div><h2 id="processes">Processes</h2><ul>
<li>unnamed: ( clk )</li>
</ul><h2 id="instantiations">Instantiations</h2><ul>
<li>ram_tdp: work.ocram_tdp</li>
</ul><br><br><br><br><br><br>