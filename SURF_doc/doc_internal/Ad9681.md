# Entity: Ad9681

- **File**: Ad9681.vhd
## Diagram

![Diagram](Ad9681.svg "Diagram")
## Description

-----------------------------------------------------------------------------
 Title      :
-----------------------------------------------------------------------------
 File       : Ad9681.vhd
 Author     : Benjamin Reese  <bareese@slac.stanford.edu>
 Company    : SLAC National Accelerator Laboratory
 Created    : 2014-01-14
 Last update: 2021-04-09
 Platform   :
 Standard   : VHDL'93/02
-----------------------------------------------------------------------------
 Description:
-----------------------------------------------------------------------------
 Copyright (c) 2014 SLAC National Accelerator Laboratory
-----------------------------------------------------------------------------
## Generics

| Generic name | Type | Value | Description |
| ------------ | ---- | ----- | ----------- |
| TPD_G        | time | 1 ns  |             |
## Ports

| Port name | Direction | Type                  | Description |
| --------- | --------- | --------------------- | ----------- |
| clkP      | in        | sl                    |             |
| clkN      | in        | sl                    |             |
| vin       | in        | RealArray(7 downto 0) |             |
| dP        | out       | slv8array(1 downto 0) |             |
| dN        | out       | slv8array(1 downto 0) |             |
| dcoP      | out       | slv(1 downto 0)       |             |
| dcoN      | out       | slv(1 downto 0)       |             |
| fcoP      | out       | slv(1 downto 0)       |             |
| fcoN      | out       | slv(1 downto 0)       |             |
| sclk      | in        | sl                    |             |
| sdio      | inout     | sl                    |             |
| csb       | in        | sl                    |             |
## Signals

| Name      | Type                  | Description                                                                                                                                                                                                                                                                            |
| --------- | --------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| wrEn      | sl                    |  ConfigSlave signals                                                                                                                                                                                                                                                                   |
| addr      | slv(12 downto 0)      |                                                                                                                                                                                                                                                                                        |
| wrData    | slv(31 downto 0)      |                                                                                                                                                                                                                                                                                        |
| byteValid | slv(3 downto 0)       |                                                                                                                                                                                                                                                                                        |
| r         | ConfigRegType         |                                                                                                                                                                                                                                                                                        |
| rin       | ConfigRegType         |                                                                                                                                                                                                                                                                                        |
| pllRst    | sl                    | -----------------------------------------------------------------------------------------------  Output constants and signals -----------------------------------------------------------------------------------------------    constant DCLK_PERIOD_C : time := CLK_PERIOD_G / 7.0;  |
| clk       | sl                    |                                                                                                                                                                                                                                                                                        |
| locked    | sl                    |                                                                                                                                                                                                                                                                                        |
| rst       | sl                    |                                                                                                                                                                                                                                                                                        |
| clkFbOut  | sl                    |                                                                                                                                                                                                                                                                                        |
| clkFbIn   | sl                    |                                                                                                                                                                                                                                                                                        |
| dClkInt   | sl                    |                                                                                                                                                                                                                                                                                        |
| dClk      | sl                    |                                                                                                                                                                                                                                                                                        |
| fClkInt   | sl                    |                                                                                                                                                                                                                                                                                        |
| fClk      | sl                    |                                                                                                                                                                                                                                                                                        |
| dcoInt    | sl                    |                                                                                                                                                                                                                                                                                        |
| dco       | sl                    |                                                                                                                                                                                                                                                                                        |
| fcoInt    | sl                    |                                                                                                                                                                                                                                                                                        |
| fco       | sl                    |                                                                                                                                                                                                                                                                                        |
| serData   | slv8array(1 downto 0) |                                                                                                                                                                                                                                                                                        |
## Constants

| Name                  | Type              | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Description |
| --------------------- | ----------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| PN_SHORT_TAPS_C       | NaturalArray      |  (0 => 4,<br><span style="padding-left:20px"> 1 => 8)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |  X9+X5+1    |
| PN_SHORT_INIT_C       | slv(8 downto 0)   |  "011011111"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |             |
| PN_LONG_TAPS_C        | NaturalArray      |  (0 => 16,<br><span style="padding-left:20px"> 1 => 22)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |  X23+X18+1  |
| PN_LONG_INIT_C        | slv(22 downto 0)  |  "01001101110000000101000"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |             |
| GLOBAL_CONFIG_INIT_C  | GlobalConfigType  |  (       mode           => "000",<br><span style="padding-left:20px">       stabilizer     => '1',<br><span style="padding-left:20px">       clockDivRatio  => "000",<br><span style="padding-left:20px">       outputLvds     => '0',<br><span style="padding-left:20px">       outputInvert   => '0',<br><span style="padding-left:20px">       termination    => "00",<br><span style="padding-left:20px">       driveStrength  => '0',<br><span style="padding-left:20px">       lsbFirst       => '0',<br><span style="padding-left:20px">       outputMode     => "011",<br><span style="padding-left:20px">       pllLowRateMode => '0',<br><span style="padding-left:20px">       sel2xFrame     => '0',<br><span style="padding-left:20px">       bits           => "00",<br><span style="padding-left:20px">       binFormat      => '1',<br><span style="padding-left:20px">       digitalFsAdj   => "100")                                               |             |
| CHANNEL_CONFIG_INIT_C | ChannelConfigType |  (       chopMode        => '0',<br><span style="padding-left:20px">       pn23            => PN_LONG_INIT_C,<br><span style="padding-left:20px">       resetPnLongGen  => '0',<br><span style="padding-left:20px">       pn9             => PN_SHORT_INIT_C,<br><span style="padding-left:20px">       resetPnShortGen => '0',<br><span style="padding-left:20px">       userTestMode    => "00",<br><span style="padding-left:20px">       outputTestMode  => "0000",<br><span style="padding-left:20px">       outputPhase     => "0011",<br><span style="padding-left:20px">       inputPhase      => "000",<br><span style="padding-left:20px">       userPattern1    => X"0000",<br><span style="padding-left:20px">       userPattern2    => X"0000",<br><span style="padding-left:20px">       offsetAdjust    => X"00",<br><span style="padding-left:20px">       outputReset     => '0',<br><span style="padding-left:20px">       powerDown       => '0') |             |
| CONFIG_REG_INIT_C     | ConfigRegType     |  (       sample          => (others => "0000000000000000"),<br><span style="padding-left:20px">       rdData          => X"00000000",<br><span style="padding-left:20px">       lsbFirst        => '0',<br><span style="padding-left:20px">       softReset       => '0',<br><span style="padding-left:20px">       channelConfigEn => "1111111111",<br><span style="padding-left:20px">       tmpGlobal       => GLOBAL_CONFIG_INIT_C,<br><span style="padding-left:20px">       tmpChannel      => CHANNEL_CONFIG_INIT_C,<br><span style="padding-left:20px">       global          => GLOBAL_CONFIG_INIT_C,<br><span style="padding-left:20px">       channel         => (others => CHANNEL_CONFIG_INIT_C),<br><span style="padding-left:20px">       word            => '0')                                                                                                                                                                                     |             |
## Types

| Name               | Type                                           | Description |
| ------------------ | ---------------------------------------------- | ----------- |
| GlobalConfigType   |                                                |             |
| ChannelConfigType  |                                                |             |
| ChannelConfigArray | array (natural range <>) of ChannelConfigType  |             |
| ConfigRegType      |                                                |             |
## Processes
- unnamed: (  )
- comb: ( addr, r, vin, wrData, wrEn )
</br>**Description**
-----------------------------------------------------------------------------------------------  Configuration register logic ----------------------------------------------------------------------------------------------- 
- seq: ( fClk )
## Instantiations

- CLK_BUFG: IBUFGDS
- plle2_adv_inst: PLLE2_ADV
- FB_BUFG: BUFG
- FCLK_BUFG: BUFG
- DCLK_BUFG: BUFG
- DCO_BUFG: BUFG
- FCO_BUFG: BUFG
- RstSync_1: surf.RstSync
- AdiConfigSlave_1: surf.AdiConfigSlave
</br>**Description**
-----------------------------------------------------------------------------------------------
 Instantiate configuration interface
-----------------------------------------------------------------------------------------------

