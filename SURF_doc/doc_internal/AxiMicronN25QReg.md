# Entity: AxiMicronN25QReg

- **File**: AxiMicronN25QReg.vhd
## Diagram

![Diagram](AxiMicronN25QReg.svg "Diagram")
## Description

-----------------------------------------------------------------------------
 Company    : SLAC National Accelerator Laboratory
-----------------------------------------------------------------------------
 Description: MicronN25Q AXI-Lite Register Access
-----------------------------------------------------------------------------
 This file is part of 'SLAC Firmware Standard Library'.
 It is subject to the license terms in the LICENSE.txt file found in the
 top-level directory of this distribution and at:
    https://confluence.slac.stanford.edu/display/ppareg/LICENSE.html.
 No part of 'SLAC Firmware Standard Library', including this file,
 may be copied, modified, propagated, or distributed except according to
 the terms contained in the LICENSE.txt file.
-----------------------------------------------------------------------------
## Generics

| Generic name       | Type             | Value       | Description  |
| ------------------ | ---------------- | ----------- | ------------ |
| TPD_G              | time             | 1 ns        |              |
| EN_PASSWORD_LOCK_G | boolean          | false       |              |
| PASSWORD_LOCK_G    | slv(31 downto 0) | x"DEADBEEF" |              |
| MEM_ADDR_MASK_G    | slv(31 downto 0) | x"00000000" |              |
| AXI_CLK_FREQ_G     | real             | 200.0E+6    |  units of Hz |
| SPI_CLK_FREQ_G     | real             | 25.0E+6     |              |
## Ports

| Port name      | Direction | Type                   | Description                 |
| -------------- | --------- | ---------------------- | --------------------------- |
| csL            | out       | sl                     | FLASH Memory Ports          |
| sck            | out       | sl                     |                             |
| mosi           | out       | sl                     |                             |
| miso           | in        | sl                     |                             |
| busyIn         | in        | sl                     | Shared SPI Interface        |
| busyOut        | out       | sl                     |                             |
| axiReadMaster  | in        | AxiLiteReadMasterType  | AXI-Lite Register Interface |
| axiReadSlave   | out       | AxiLiteReadSlaveType   |                             |
| axiWriteMaster | in        | AxiLiteWriteMasterType |                             |
| axiWriteSlave  | out       | AxiLiteWriteSlaveType  |                             |
| axiClk         | in        | sl                     | Global Signals              |
| axiRst         | in        | sl                     |                             |
## Signals

| Name    | Type            | Description |
| ------- | --------------- | ----------- |
| r       | RegType         |             |
| rin     | RegType         |             |
| ramDout | slv(7 downto 0) |             |
## Constants

| Name                | Type            | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Description |
| ------------------- | --------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| DOUBLE_SCK_FREQ_C   | real            |  SPI_CLK_FREQ_G * 2.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |             |
| SCK_HALF_PERIOD_C   | natural         |  (getTimeRatio(AXI_CLK_FREQ_G,<br><span style="padding-left:20px"> DOUBLE_SCK_FREQ_C))-1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |             |
| MIN_CS_WIDTH_C      | natural         |  (getTimeRatio(AXI_CLK_FREQ_G,<br><span style="padding-left:20px"> 2.0E+7))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |             |
| MAX_SCK_CNT_C       | natural         |  ite((SCK_HALF_PERIOD_C > MIN_CS_WIDTH_C),<br><span style="padding-left:20px"> SCK_HALF_PERIOD_C,<br><span style="padding-left:20px"> MIN_CS_WIDTH_C)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |             |
| PRESET_32BIT_ADDR_C | slv(8 downto 0) |  "111111011"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |             |
| PRESET_24BIT_ADDR_C | slv(8 downto 0) |  "111111100"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |             |
| REG_INIT_C          | RegType         |  (       test          => (others => '0'),<br><span style="padding-left:20px">       wrData        => (others => '0'),<br><span style="padding-left:20px">       rdData        => (others => '0'),<br><span style="padding-left:20px">       addr          => (others => '0'),<br><span style="padding-left:20px">       addr32BitMode => '0',<br><span style="padding-left:20px">       cmd           => (others => '0'),<br><span style="padding-left:20px">       status        => (others => '0'),<br><span style="padding-left:20px">       -- RAM Signals       RnW           => '1',<br><span style="padding-left:20px">       we            => '0',<br><span style="padding-left:20px">       rd            => "00",<br><span style="padding-left:20px">       cnt           => (others => '0'),<br><span style="padding-left:20px">       waddr         => (others => '0'),<br><span style="padding-left:20px">       raddr         => (others => '0'),<br><span style="padding-left:20px">       xferSize      => (others => '0'),<br><span style="padding-left:20px">       ramDin        => (others => '0'),<br><span style="padding-left:20px">       -- SPI Signals       busy          => '0',<br><span style="padding-left:20px">       csL           => '1',<br><span style="padding-left:20px">       sck           => '0',<br><span style="padding-left:20px">       mosi          => '0',<br><span style="padding-left:20px">       sckCnt        => 0,<br><span style="padding-left:20px">       bitPntr       => 0,<br><span style="padding-left:20px">       -- AXI-Lite Signals       axiReadSlave  => AXI_LITE_READ_SLAVE_INIT_C,<br><span style="padding-left:20px">       axiWriteSlave => AXI_LITE_WRITE_SLAVE_INIT_C,<br><span style="padding-left:20px">       -- Status Machine       state         => IDLE_S) |             |
## Types

| Name      | Type                                                                                                                                                                                                                                                             | Description |
| --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| StateType | ( IDLE_S,<br><span style="padding-left:20px"> WORD_WRITE_S,<br><span style="padding-left:20px"> WORD_READ_S,<br><span style="padding-left:20px"> SCK_LOW_S,<br><span style="padding-left:20px"> SCK_HIGH_S,<br><span style="padding-left:20px"> MIN_CS_WIDTH_S)  |             |
| RegType   |                                                                                                                                                                                                                                                                  |             |
## Processes
- comb: ( axiReadMaster, axiRst, axiWriteMaster, busyIn, miso, r,
                   ramDout )
- seq: ( axiClk )
## Instantiations

- U_Ram: surf.SimpleDualPortRam
