# Package: I2cPkg

- **File**: I2cPkg.vhd
## Constants

| Name                         | Type                       | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Description                                                                                       |
| ---------------------------- | -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| I2C_INVALID_ADDR_ERROR_C     | slv(7 downto 0)            |  X"01"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ------------------------------------------------------------------------------------------------  |
| I2C_WRITE_ACK_ERROR_C        | slv(7 downto 0)            |  X"02"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                   |
| I2C_ARBITRATION_LOST_ERROR_C | slv(7 downto 0)            |  X"03"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                   |
| I2C_TIMEOUT_ERROR_C          | slv(7 downto 0)            |  X"04"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                   |
| I2C_REG_MASTER_IN_INIT_C     | I2cRegMasterInType         |  (       i2cAddr     => (others => '0'),<br><span style="padding-left:20px">       tenbit      => '0',<br><span style="padding-left:20px">       regAddr     => (others => '0'),<br><span style="padding-left:20px">       regWrData   => (others => '0'),<br><span style="padding-left:20px">       regOp       => '0',<br><span style="padding-left:20px">               -- 1 for write,<br><span style="padding-left:20px"> 0 for read       regAddrSkip => '0',<br><span style="padding-left:20px">       regAddrSize => (others => '0'),<br><span style="padding-left:20px">       regDataSize => (others => '0'),<br><span style="padding-left:20px">       regReq      => '0',<br><span style="padding-left:20px">       busReq      => '0',<br><span style="padding-left:20px">       endianness  => '0',<br><span style="padding-left:20px">       repeatStart => '0') |                                                                                                   |
| I2C_REG_MASTER_OUT_INIT_C    | I2cRegMasterOutType        |  (       regAck      => '0',<br><span style="padding-left:20px">       regFail     => '0',<br><span style="padding-left:20px">       regFailCode => (others => '0'),<br><span style="padding-left:20px">       regRdData   => (others => '0'))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                   |
| I2C_SLAVE_IN_INIT_C          | I2cSlaveInType             |  (       enable  => '0',<br><span style="padding-left:20px">       txValid => '0',<br><span style="padding-left:20px">       txData  => (others => '0'),<br><span style="padding-left:20px">       rxAck   => '0')                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                   |
| I2C_SLAVE_OUT_INIT_C         | I2cSlaveOutType            |  (       rxActive => '0',<br><span style="padding-left:20px">       rxValid  => '0',<br><span style="padding-left:20px">       rxData   => (others => '0'),<br><span style="padding-left:20px">       txActive => '0',<br><span style="padding-left:20px">       txAck    => '0',<br><span style="padding-left:20px">       nack     => '0')                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                   |
| I2C_AXIL_DEV_ARRAY_DEFAULT_C | I2cAxiLiteDevArray(0 to 3) |  (       0 => (MakeI2cAxiLiteDevType("0000000",<br><span style="padding-left:20px"> 8,<br><span style="padding-left:20px"> 8,<br><span style="padding-left:20px"> '0')),<br><span style="padding-left:20px">       1 => (MakeI2cAxiLiteDevType("0000010",<br><span style="padding-left:20px"> 16,<br><span style="padding-left:20px"> 16,<br><span style="padding-left:20px"> '0')),<br><span style="padding-left:20px">       2 => (MakeI2cAxiLiteDevType("0000100",<br><span style="padding-left:20px"> 32,<br><span style="padding-left:20px"> 8,<br><span style="padding-left:20px"> '0')),<br><span style="padding-left:20px">       3 => (MakeI2cAxiLiteDevType("0001000",<br><span style="padding-left:20px"> 32,<br><span style="padding-left:20px"> 32,<br><span style="padding-left:20px"> '0')))                                                                     |                                                                                                   |
## Types

| Name                 | Type                                             | Description                                                                                                                                                                                                                                   |
| -------------------- | ------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| i2c_in_type          |                                                  |                                                                                                                                                                                                                                               |
| i2c_in_array         | array (natural range <>) of i2c_in_type          |                                                                                                                                                                                                                                               |
| i2c_out_type         |                                                  |                                                                                                                                                                                                                                               |
| i2c_out_array        | array (natural range <>) of i2c_out_type         |                                                                                                                                                                                                                                               |
| I2cMasterInType      |                                                  |                                                                                                                                                                                                                                               |
| I2cMasterOutType     |                                                  |                                                                                                                                                                                                                                               |
| I2cRegMasterInType   |                                                  | ------------------------------------------------------------------------------------------------                                                                                                                                              |
| I2cRegMasterInArray  | array (natural range <>) of I2cRegMasterInType   |                                                                                                                                                                                                                                               |
| I2cRegMasterOutType  |                                                  |                                                                                                                                                                                                                                               |
| I2cRegMasterOutArray | array (natural range <>) of I2cRegMasterOutType  |                                                                                                                                                                                                                                               |
| I2cSlaveInType       |                                                  | ------------------------------------------------------------------------------------------------                                                                                                                                              |
| I2cSlaveOutType      |                                                  |                                                                                                                                                                                                                                               |
| I2cAxiLiteDevType    |                                                  | -----------------------------------------------------------------------------------------------  AXI Bridge Generic Type, stick here for now -----------------------------------------------------------------------------------------------  |
| I2cAxiLiteDevArray   | array (natural range <>) of I2cAxiLiteDevType    |                                                                                                                                                                                                                                               |
## Functions
- MakeI2cAxiLiteDevType <font id="function_arguments">( i2cAddress  : slv;<br><span style="padding-left:20px"> dataSize    : integer;<br><span style="padding-left:20px"> addrSize    : integer;<br><span style="padding-left:20px"> endianness  : sl;<br><span style="padding-left:20px"> repeatStart : sl := '0') </font> <font id="function_return">return I2cAxiLiteDevType </font>
- maxAddrSize <font id="function_arguments">(constant devMap : I2cAxiLiteDevArray) </font> <font id="function_return">return natural </font>
