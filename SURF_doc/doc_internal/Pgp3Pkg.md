# Package: Pgp3Pkg

- **File**: Pgp3Pkg.vhd
## Constants

| Name                             | Type                 | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Description                      |
| -------------------------------- | -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------- |
| PGP3_VERSION_C                   | slv(2 downto 0)      |  "011"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                  |
| PGP3_DEFAULT_TX_CELL_WORDS_MAX_C | positive             |  128                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |  Number of 64-bit words per cell |
| PGP3_AXIS_CONFIG_C               | AxiStreamConfigType  |        ssiAxiStreamConfig(          dataBytes => 8,<br><span style="padding-left:20px">          tKeepMode => TKEEP_COMP_C,<br><span style="padding-left:20px">          tUserMode => TUSER_FIRST_LAST_C,<br><span style="padding-left:20px">          tDestBits => 4,<br><span style="padding-left:20px">          tUserBits => 2)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                  |
| PGP3_IDLE_C                      | slv(7 downto 0)      |  X"99"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |  Define K code BTFs              |
| PGP3_SOF_C                       | slv(7 downto 0)      |  X"AA"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                  |
| PGP3_EOF_C                       | slv(7 downto 0)      |  X"55"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                  |
| PGP3_SOC_C                       | slv(7 downto 0)      |  X"CC"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                  |
| PGP3_EOC_C                       | slv(7 downto 0)      |  X"33"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                  |
| PGP3_SKP_C                       | slv(7 downto 0)      |  X"66"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                  |
| PGP3_USER_C                      | Slv8Array(0 to 7)    |  (X"78",<br><span style="padding-left:20px"> X"87",<br><span style="padding-left:20px"> X"2D",<br><span style="padding-left:20px"> X"D2",<br><span style="padding-left:20px"> X"1E",<br><span style="padding-left:20px"> X"E1",<br><span style="padding-left:20px"> X"B4",<br><span style="padding-left:20px"> X"4B")                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                  |
| PGP3_VALID_BTF_ARRAY_C           | Slv8Array            |  (       0  => PGP3_IDLE_C,<br><span style="padding-left:20px">       1  => PGP3_SOF_C,<br><span style="padding-left:20px">       2  => PGP3_EOF_C,<br><span style="padding-left:20px">       3  => PGP3_SOC_C,<br><span style="padding-left:20px">       4  => PGP3_EOC_C,<br><span style="padding-left:20px">       5  => PGP3_SKP_C,<br><span style="padding-left:20px">       6  => PGP3_USER_C(0),<br><span style="padding-left:20px">       7  => PGP3_USER_C(1),<br><span style="padding-left:20px">       8  => PGP3_USER_C(2),<br><span style="padding-left:20px">       9  => PGP3_USER_C(3),<br><span style="padding-left:20px">       10 => PGP3_USER_C(4),<br><span style="padding-left:20px">       11 => PGP3_USER_C(5),<br><span style="padding-left:20px">       12 => PGP3_USER_C(6),<br><span style="padding-left:20px">       13 => PGP3_USER_C(7))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                  |
| PGP3_D_HEADER_C                  | slv(1 downto 0)      |  "01"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                  |
| PGP3_K_HEADER_C                  | slv(1 downto 0)      |  "10"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                  |
| PGP3_SCRAMBLER_TAPS_C            | IntegerArray(0 to 1) |  (0 => 39,<br><span style="padding-left:20px"> 1 => 58)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                  |
| PGP3_CRC_POLY_C                  | slv(31 downto 0)     |  X"04C11DB7"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                  |
| PGP3_TX_IN_INIT_C                | Pgp3TxInType         |  (       disable      => '0',<br><span style="padding-left:20px">       flowCntlDis  => '0',<br><span style="padding-left:20px">       resetTx      => '0',<br><span style="padding-left:20px">       skpInterval  => toSlv(5000,<br><span style="padding-left:20px"> 32),<br><span style="padding-left:20px">       opCodeEn     => '0',<br><span style="padding-left:20px">       opCodeNumber => (others => '0'),<br><span style="padding-left:20px">       opCodeData   => (others => '0'),<br><span style="padding-left:20px">       locData      => (others => '0'))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                  |
| PGP3_TX_OUT_INIT_C               | Pgp3TxOutType        |  (       locOverflow => (others => '0'),<br><span style="padding-left:20px">       locPause    => (others => '0'),<br><span style="padding-left:20px">       phyTxActive => '0',<br><span style="padding-left:20px">       linkReady   => '0',<br><span style="padding-left:20px">       opCodeReady => '0',<br><span style="padding-left:20px">       frameTx     => '0',<br><span style="padding-left:20px">       frameTxErr  => '0')                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                  |
| PGP3_RX_IN_INIT_C                | Pgp3RxInType         |  (       loopback => (others => '0'),<br><span style="padding-left:20px">       resetRx  => '0')                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                  |
| PGP3_RX_OUT_INIT_C               | Pgp3RxOutType        |  (       phyRxActive    => '0',<br><span style="padding-left:20px">       linkReady      => '0',<br><span style="padding-left:20px">       frameRx        => '0',<br><span style="padding-left:20px">       frameRxErr     => '0',<br><span style="padding-left:20px">       cellError      => '0',<br><span style="padding-left:20px">       linkDown       => '0',<br><span style="padding-left:20px">       linkError      => '0',<br><span style="padding-left:20px">       opCodeEn       => '0',<br><span style="padding-left:20px">       opCodeNumber   => (others => '0'),<br><span style="padding-left:20px">       opCodeData     => (others => '0'),<br><span style="padding-left:20px">       remLinkData    => (others => '0'),<br><span style="padding-left:20px">       remRxLinkReady => '0',<br><span style="padding-left:20px">       remRxOverflow  => (others => '0'),<br><span style="padding-left:20px">       remRxPause     => (others => '0'),<br><span style="padding-left:20px">       phyRxData      => (others => '0'),<br><span style="padding-left:20px">       phyRxHeader    => (others => '0'),<br><span style="padding-left:20px">       phyRxValid     => '0',<br><span style="padding-left:20px">       phyRxInit      => '0',<br><span style="padding-left:20px">       gearboxAligned => '0',<br><span style="padding-left:20px">       ebData         => (others => '0'),<br><span style="padding-left:20px">       ebHeader       => (others => '0'),<br><span style="padding-left:20px">       ebValid        => '0',<br><span style="padding-left:20px">       ebOverflow     => '0',<br><span style="padding-left:20px">       ebStatus       => (others => '0')) |                                  |
## Types

| Name           | Type                                      | Description |
| -------------- | ----------------------------------------- | ----------- |
| Pgp3TxInType   |                                           |             |
| Pgp3TxInArray  | array (natural range<>) of Pgp3TxInType   |             |
| Pgp3TxOutType  |                                           |             |
| Pgp3TxOutArray | array (natural range<>) of Pgp3TxOutType  |             |
| Pgp3RxInType   |                                           |             |
| Pgp3RxInArray  | array (natural range<>) of Pgp3RxInType   |             |
| Pgp3RxOutType  |                                           |             |
| Pgp3RxOutArray | array (natural range<>) of Pgp3RxOutType  |             |
## Functions
- pgp3MakeLinkInfo <font id="function_arguments">( locRxFifoCtrl  : AxiStreamCtrlArray;<br><span style="padding-left:20px"> locRxLinkReady : sl) </font> <font id="function_return">return slv </font>
- pgp3ExtractLinkInfo <font id="function_arguments">( linkInfo       : in    slv(39 downto 0);<br><span style="padding-left:20px"> remRxFifoCtrl  : inout AxiStreamCtrlArray;<br><span style="padding-left:20px"> remRxLinkReady : inout sl;<br><span style="padding-left:20px"> version        : inout slv(2 downto 0)) </font> <font id="function_return">return ()</font>
- pgp3OpCodeChecksum <font id="function_arguments">( opCodeData : slv(47 downto 0)) </font> <font id="function_return">return slv </font>
