# Package: Pgp4Pkg

- **File**: Pgp4Pkg.vhd
## Constants

| Name                             | Type                 | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Description                      |
| -------------------------------- | -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------- |
| PGP4_VERSION_C                   | slv(7 downto 0)      |  toSlv(4,<br><span style="padding-left:20px"> 8)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |  Version = 0x04                  |
| PGP4_DEFAULT_TX_CELL_WORDS_MAX_C | positive             |  128                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |  Number of 64-bit words per cell |
| PGP4_AXIS_CONFIG_C               | AxiStreamConfigType  |        ssiAxiStreamConfig(          dataBytes => 8,<br><span style="padding-left:20px">          tKeepMode => TKEEP_COMP_C,<br><span style="padding-left:20px">          tUserMode => TUSER_FIRST_LAST_C,<br><span style="padding-left:20px">          tDestBits => 4,<br><span style="padding-left:20px">          tUserBits => 2)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                  |
| PGP4_IDLE_C                      | slv(7 downto 0)      |  X"99"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |  Define K code BTFs              |
| PGP4_SOF_C                       | slv(7 downto 0)      |  X"AA"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                  |
| PGP4_EOF_C                       | slv(7 downto 0)      |  X"55"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                  |
| PGP4_SOC_C                       | slv(7 downto 0)      |  X"CC"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                  |
| PGP4_EOC_C                       | slv(7 downto 0)      |  X"33"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                  |
| PGP4_SKP_C                       | slv(7 downto 0)      |  X"66"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                  |
| PGP4_USER_C                      | slv(7 downto 0)      |  X"78"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                  |
| PGP4_VALID_BTF_ARRAY_C           | Slv8Array            |  (       0 => PGP4_IDLE_C,<br><span style="padding-left:20px">       1 => PGP4_SOF_C,<br><span style="padding-left:20px">       2 => PGP4_EOF_C,<br><span style="padding-left:20px">       3 => PGP4_SOC_C,<br><span style="padding-left:20px">       4 => PGP4_EOC_C,<br><span style="padding-left:20px">       5 => PGP4_SKP_C,<br><span style="padding-left:20px">       6 => PGP4_USER_C)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                  |
| PGP4_D_HEADER_C                  | slv(1 downto 0)      |  "01"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                  |
| PGP4_K_HEADER_C                  | slv(1 downto 0)      |  "10"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                  |
| PGP4_SCRAMBLER_TAPS_C            | IntegerArray(0 to 1) |  (0 => 39,<br><span style="padding-left:20px"> 1 => 58)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                  |
| PGP4_CRC_POLY_C                  | slv(31 downto 0)     |  X"04C11DB7"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                  |
| PGP4_TX_IN_INIT_C                | Pgp4TxInType         |  (       disable     => '0',<br><span style="padding-left:20px">       flowCntlDis => '0',<br><span style="padding-left:20px">       resetTx     => '0',<br><span style="padding-left:20px">       skpInterval => toSlv(5000,<br><span style="padding-left:20px"> 32),<br><span style="padding-left:20px">       opCodeEn    => '0',<br><span style="padding-left:20px">       opCodeData  => (others => '0'),<br><span style="padding-left:20px">       locData     => (others => '0'))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                  |
| PGP4_TX_OUT_INIT_C               | Pgp4TxOutType        |  (       locPause    => (others => '0'),<br><span style="padding-left:20px">       locOverflow => (others => '0'),<br><span style="padding-left:20px">       phyTxActive => '0',<br><span style="padding-left:20px">       linkReady   => '0',<br><span style="padding-left:20px">       opCodeReady => '0',<br><span style="padding-left:20px">       frameTx     => '0',<br><span style="padding-left:20px">       frameTxErr  => '0')                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                  |
| PGP4_RX_IN_INIT_C                | Pgp4RxInType         |  (       loopback => (others => '0'),<br><span style="padding-left:20px">       resetRx  => '0')                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                  |
| PGP4_RX_OUT_INIT_C               | Pgp4RxOutType        |  (       phyRxActive      => '0',<br><span style="padding-left:20px">       phyRxInit        => '0',<br><span style="padding-left:20px">       gearboxAligned   => '0',<br><span style="padding-left:20px">       linkReady        => '0',<br><span style="padding-left:20px">       remRxLinkReady   => '0',<br><span style="padding-left:20px">       frameRx          => '0',<br><span style="padding-left:20px">       frameRxErr       => '0',<br><span style="padding-left:20px">       linkDown         => '0',<br><span style="padding-left:20px">       linkError        => '0',<br><span style="padding-left:20px">       ebOverflow       => '0',<br><span style="padding-left:20px">       opCodeEn         => '0',<br><span style="padding-left:20px">       opCodeData       => (others => '0'),<br><span style="padding-left:20px">       remLinkData      => (others => '0'),<br><span style="padding-left:20px">       remRxOverflow    => (others => '0'),<br><span style="padding-left:20px">       remRxPause       => (others => '0'),<br><span style="padding-left:20px">       cellError        => '0',<br><span style="padding-left:20px">       cellSofError     => '0',<br><span style="padding-left:20px">       cellSeqError     => '0',<br><span style="padding-left:20px">       cellVersionError => '0',<br><span style="padding-left:20px">       cellCrcModeError => '0',<br><span style="padding-left:20px">       cellCrcError     => '0',<br><span style="padding-left:20px">       cellEofeError    => '0') |                                  |
## Types

| Name           | Type                                      | Description |
| -------------- | ----------------------------------------- | ----------- |
| Pgp4TxInType   |                                           |             |
| Pgp4TxInArray  | array (natural range<>) of Pgp4TxInType   |             |
| Pgp4TxOutType  |                                           |             |
| Pgp4TxOutArray | array (natural range<>) of Pgp4TxOutType  |             |
| Pgp4RxInType   |                                           |             |
| Pgp4RxInArray  | array (natural range<>) of Pgp4RxInType   |             |
| Pgp4RxOutType  |                                           |             |
| Pgp4RxOutArray | array (natural range<>) of Pgp4RxOutType  |             |
## Functions
- pgp4MakeLinkInfo <font id="function_arguments">( locRxFifoCtrl  : AxiStreamCtrlArray;<br><span style="padding-left:20px"> locRxLinkReady : sl) </font> <font id="function_return">return slv </font>
- pgp4ExtractLinkInfo <font id="function_arguments">( linkInfo       : in    slv(PGP4_LINKINFO_FIELD_C);<br><span style="padding-left:20px"> remRxFifoCtrl  : inout AxiStreamCtrlArray;<br><span style="padding-left:20px"> remRxLinkReady : inout sl;<br><span style="padding-left:20px"> version        : inout slv(7 downto 0)) </font> <font id="function_return">return ()</font>
- pgp4KCodeCrc <font id="function_arguments">( kCodeWord : slv(63 downto 0)) </font> <font id="function_return">return slv </font>
