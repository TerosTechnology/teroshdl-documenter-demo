
<style>
  table {
    width:70%;
    margin-left: auto;
    margin-right: auto
  }
  svg {
    display:block;  
    width:60%;
    height:40%;
    margin-left: auto;
    margin-right: auto
  }
  h1, h2, h3 {
    margin-left:1.5%;
    width:98%;
    font-weight:bold
  }
  code {
    color:#545253;
  }
  p {
    width: 98%;
    color:black;
    margin-top:5px;
    margin-bottom:5px 
  }
  * {
    color:black;
    line-height: 1.6;
  }
  li{
    margin: 20px 0;
  }
  #function_return{
    font-weight: bold;
    color:green;
  }
  #teroshdl_description, li {
    width: 98%;
    margin-left:2%;
    margin-right:2%;
  }
  #function_arguments{
    color:blue;
  }
  div.templateTerosHDL {
    background-color: white;
    position:absolute;
  }
  td, th {
    padding:7px; 
    border: 1px solid grey;
  }
  th {
    background-color: #ffd78c;
  }
  tr:hover {
    background-color: #ddd;
  }
  tr:nth-child(even){
    background-color: #f2f2f2;
  }
</style>
<div id="teroshdl" class='templateTerosHDL'>
<a id=ethernet_mac><h1 id="entity-ethernet_mac">Entity: ethernet_mac</h1></a><h2 id="diagram">Diagram</h2><p><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 925 150"><svg id="SvgjsSvg1002" width="2" height="0" focusable="false" style="overflow:hidden;top:-100%;left:-100%;position:absolute;opacity:0"><polyline id="SvgjsPolyline1003" points="325,0 340,0"></polyline><path id="SvgjsPath1004" d="M0 0 "></path></svg><rect id="SvgjsRect1006" width="260" height="130" fill="black" x="340" y="15"></rect><rect id="SvgjsRect1007" width="256" height="125" fill="#fdfd96" x="342" y="17"></rect><text id="SvgjsText1008" font-family="Helvetica" x="320" y="9.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1009" dy="26" x="320" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1010" font-family="Helvetica" x="355" y="9.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1011" dy="26" x="355" svgjs:data="{&quot;newLined&quot;:true}">   clk </tspan></text><line id="SvgjsLine1012" x1="325" y1="30" x2="340" y2="30" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1013" font-family="Helvetica" x="320" y="29.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1014" dy="26" x="320" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1015" font-family="Helvetica" x="355" y="29.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1016" dy="26" x="355" svgjs:data="{&quot;newLined&quot;:true}">   sbi_cs </tspan></text><line id="SvgjsLine1017" x1="325" y1="50" x2="340" y2="50" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1018" font-family="Helvetica" x="320" y="49.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1019" dy="26" x="320" svgjs:data="{&quot;newLined&quot;:true}">   unsigned(7 downto 0) </tspan></text><text id="SvgjsText1020" font-family="Helvetica" x="355" y="49.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1021" dy="26" x="355" svgjs:data="{&quot;newLined&quot;:true}">   sbi_addr </tspan></text><line id="SvgjsLine1022" x1="325" y1="70" x2="340" y2="70" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1023" font-family="Helvetica" x="320" y="69.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1024" dy="26" x="320" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1025" font-family="Helvetica" x="355" y="69.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1026" dy="26" x="355" svgjs:data="{&quot;newLined&quot;:true}">   sbi_rena </tspan></text><line id="SvgjsLine1027" x1="325" y1="90" x2="340" y2="90" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1028" font-family="Helvetica" x="320" y="89.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1029" dy="26" x="320" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1030" font-family="Helvetica" x="355" y="89.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1031" dy="26" x="355" svgjs:data="{&quot;newLined&quot;:true}">   sbi_wena </tspan></text><line id="SvgjsLine1032" x1="325" y1="110" x2="340" y2="110" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1033" font-family="Helvetica" x="320" y="109.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1034" dy="26" x="320" svgjs:data="{&quot;newLined&quot;:true}">   std_logic_vector(7 downto 0) </tspan></text><text id="SvgjsText1035" font-family="Helvetica" x="355" y="109.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1036" dy="26" x="355" svgjs:data="{&quot;newLined&quot;:true}">   sbi_wdata </tspan></text><line id="SvgjsLine1037" x1="325" y1="130" x2="340" y2="130" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1038" font-family="Helvetica" x="620" y="9.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1039" dy="26" x="620" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1040" font-family="Helvetica" x="585" y="9.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1041" dy="26" x="585" svgjs:data="{&quot;newLined&quot;:true}">   sbi_ready </tspan></text><line id="SvgjsLine1042" x1="600" y1="30" x2="615" y2="30" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1043" font-family="Helvetica" x="620" y="29.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1044" dy="26" x="620" svgjs:data="{&quot;newLined&quot;:true}">   std_logic_vector(7 downto 0) </tspan></text><text id="SvgjsText1045" font-family="Helvetica" x="585" y="29.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1046" dy="26" x="585" svgjs:data="{&quot;newLined&quot;:true}">   sbi_rdata </tspan></text><line id="SvgjsLine1047" x1="600" y1="50" x2="615" y2="50" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1048" font-family="Helvetica" x="620" y="49.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1049" dy="26" x="620" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1050" font-family="Helvetica" x="585" y="49.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1051" dy="26" x="585" svgjs:data="{&quot;newLined&quot;:true}">   gtxclk </tspan></text><line id="SvgjsLine1052" x1="600" y1="70" x2="615" y2="70" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1053" font-family="Helvetica" x="620" y="69.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1054" dy="26" x="620" svgjs:data="{&quot;newLined&quot;:true}">   std_logic_vector(7 downto 0) </tspan></text><text id="SvgjsText1055" font-family="Helvetica" x="585" y="69.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1056" dy="26" x="585" svgjs:data="{&quot;newLined&quot;:true}">   txd </tspan></text><line id="SvgjsLine1057" x1="600" y1="90" x2="615" y2="90" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1058" font-family="Helvetica" x="620" y="89.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1059" dy="26" x="620" svgjs:data="{&quot;newLined&quot;:true}">   std_logic </tspan></text><text id="SvgjsText1060" font-family="Helvetica" x="585" y="89.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1061" dy="26" x="585" svgjs:data="{&quot;newLined&quot;:true}">   txen </tspan></text><line id="SvgjsLine1062" x1="600" y1="110" x2="615" y2="110" stroke-linecap="rec" stroke="black" stroke-width="5"></line></svg></p><h2 id="description">Description</h2><div id="teroshdl_description"><p>Copyright 2020 Bitvis Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a> and in the provided LICENSE.TXT. Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Note : Any functionality not explicitly described in the documentation is subject to change at any time Description : See library quick reference (under 'doc') and README-file(s)</p></div><h2 id="ports">Ports</h2>
<table>
<thead>
<tr>
<th id="port_name">Port name</th>
<th id="direction">Direction</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clk</td>
<td>in</td>
<td>std_logic</td>
<td>SBI interface</td>
</tr>
<tr>
<td>sbi_cs</td>
<td>in</td>
<td>std_logic</td>
<td></td>
</tr>
<tr>
<td>sbi_addr</td>
<td>in</td>
<td>unsigned(7 downto 0)</td>
<td></td>
</tr>
<tr>
<td>sbi_rena</td>
<td>in</td>
<td>std_logic</td>
<td></td>
</tr>
<tr>
<td>sbi_wena</td>
<td>in</td>
<td>std_logic</td>
<td></td>
</tr>
<tr>
<td>sbi_wdata</td>
<td>in</td>
<td>std_logic_vector(7 downto 0)</td>
<td></td>
</tr>
<tr>
<td>sbi_ready</td>
<td>out</td>
<td>std_logic</td>
<td></td>
</tr>
<tr>
<td>sbi_rdata</td>
<td>out</td>
<td>std_logic_vector(7 downto 0)</td>
<td></td>
</tr>
<tr>
<td>gtxclk</td>
<td>out</td>
<td>std_logic</td>
<td>GMII interface (only TX)</td>
</tr>
<tr>
<td>txd</td>
<td>out</td>
<td>std_logic_vector(7 downto 0)</td>
<td></td>
</tr>
<tr>
<td>txen</td>
<td>out</td>
<td>std_logic</td>
<td></td>
</tr>
</tbody>
</table><h2 id="signals">Signals</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>mac_dest_addr</td>
<td>std_logic_vector(47 downto 0)</td>
<td></td>
</tr>
<tr>
<td>mac_src_addr</td>
<td>std_logic_vector(47 downto 0)</td>
<td></td>
</tr>
<tr>
<td>payload_len</td>
<td>std_logic_vector(15 downto 0)</td>
<td></td>
</tr>
<tr>
<td>payload_len_int</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>payload</td>
<td>t_byte_array(0 to C_MAX_PAYLOAD_LENGTH-1)</td>
<td></td>
</tr>
<tr>
<td>dummy_reg</td>
<td>std_logic_vector(7 downto 0)</td>
<td></td>
</tr>
<tr>
<td>frame_ready</td>
<td>std_logic</td>
<td></td>
</tr>
<tr>
<td>frame_sent</td>
<td>std_logic</td>
<td></td>
</tr>
<tr>
<td>read_ready</td>
<td>std_logic</td>
<td></td>
</tr>
<tr>
<td>fsm_tx</td>
<td>t_state</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="types">Types</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>t_state</td>
<td>(s_idle, s_send_pkt)</td>
<td></td>
</tr>
</tbody>
</table><h2 id="processes">Processes</h2>
<ul>
<li><p>p_sbi_write_regs: <em>( clk )</em></p></li>
<li><p>p_sbi_read_regs: <em>( sbi_cs, sbi_rena, sbi_addr )</em><br />
Read the Ethernet MAC dummy register</p></li>
</ul>
<p><strong>Description</strong><br />
Read the Ethernet MAC dummy register</p>
<ul>
<li>p_gmii_send_frame: <em>( clk )</em><br />
GMII interface<br />
Send Ethernet frames once they have been completely stored in the internal registers.</li>
</ul>
<p><strong>Description</strong><br />
GMII interface<br />
Send Ethernet frames once they have been completely stored in the internal registers.</p><h2 id="state-machines">State machines</h2><div><ul>
<li>GMII interface<br />
Send Ethernet frames once they have been completely stored in the internal registers.</li>
</ul><div id="state_machine"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: state transitions Pages: 1 -->
<svg width="460pt" height="188pt"
 viewBox="0.00 0.00 460.00 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>state transitions</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-184 456,-184 456,4 -4,4"/>
<g id="clust1" class="cluster state regular">
<title>cluster_fsm_tx</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M20,-8C20,-8 432,-8 432,-8 438,-8 444,-14 444,-20 444,-20 444,-160 444,-160 444,-166 438,-172 432,-172 432,-172 20,-172 20,-172 14,-172 8,-166 8,-160 8,-160 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="start" x="208.8324" y="-153.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">fsm_tx</text>
</g>
<!-- fsm_tx -->
<!-- s_idle -->
<g id="node2" class="node state regular">
<title>s_idle</title>
<polygon fill="#ffffff" fill-opacity="0.003922" stroke="transparent" stroke-width="2" points="181,-134 125,-134 125,-98 181,-98 181,-134"/>
<text text-anchor="start" x="137.331" y="-112.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">s_idle</text>
<path fill="none" stroke="#000000" stroke-width="2" d="M137.3333,-99C137.3333,-99 168.6667,-99 168.6667,-99 174.3333,-99 180,-104.6667 180,-110.3333 180,-110.3333 180,-121.6667 180,-121.6667 180,-127.3333 174.3333,-133 168.6667,-133 168.6667,-133 137.3333,-133 137.3333,-133 131.6667,-133 126,-127.3333 126,-121.6667 126,-121.6667 126,-110.3333 126,-110.3333 126,-104.6667 131.6667,-99 137.3333,-99"/>
</g>
<!-- s_send_pkt -->
<g id="node3" class="node state regular">
<title>s_send_pkt</title>
<polygon fill="#ffffff" fill-opacity="0.003922" stroke="transparent" stroke-width="2" points="201.5,-52 118.5,-52 118.5,-16 201.5,-16 201.5,-52"/>
<text text-anchor="start" x="129.8202" y="-30.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">s_send_pkt</text>
<path fill="none" stroke="#000000" stroke-width="2" d="M130.8333,-17C130.8333,-17 189.1667,-17 189.1667,-17 194.8333,-17 200.5,-22.6667 200.5,-28.3333 200.5,-28.3333 200.5,-39.6667 200.5,-39.6667 200.5,-45.3333 194.8333,-51 189.1667,-51 189.1667,-51 130.8333,-51 130.8333,-51 125.1667,-51 119.5,-45.3333 119.5,-39.6667 119.5,-39.6667 119.5,-28.3333 119.5,-28.3333 119.5,-22.6667 125.1667,-17 130.8333,-17"/>
</g>
<!-- s_idle&#45;&gt;s_send_pkt -->
<g id="edge1" class="edge transition">
<title>s_idle&#45;&gt;s_send_pkt</title>
<path fill="none" stroke="#000000" d="M124.7532,-113.0597C89.1963,-108.177 34.9853,-96.1066 54.549,-69 61.3646,-59.5566 85.2116,-51.2349 108.5069,-45.0776"/>
<polygon fill="#000000" stroke="#000000" points="109.5688,-48.4193 118.4055,-42.5744 107.8526,-41.633 109.5688,-48.4193"/>
<text text-anchor="start" x="54" y="-72" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">frame_ready = &#39;1&#39; and frame_sent = &#39;0&#39; &#160;&#160;</text>
</g>
<!-- s_send_pkt&#45;&gt;s_idle -->
<g id="edge2" class="edge transition">
<title>s_send_pkt&#45;&gt;s_idle</title>
<path fill="none" stroke="#000000" d="M201.5808,-43.8049C224.6303,-51.3871 246.5171,-63.5618 235,-81 225.1807,-95.8675 207.613,-104.4411 191.2501,-109.375"/>
<polygon fill="#000000" stroke="#000000" points="190.0742,-106.0654 181.2977,-112.0004 191.8597,-112.8338 190.0742,-106.0654"/>
<text text-anchor="start" x="238" y="-72" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">v_byte_idx = 22+payload_len_int+4&#45;1 &#160;&#160;</text>
</g>
</g>
</svg>
</div></div><br><br><br><br><br><br>