# Entity: ethernet_sbi_gmii_demo_th

- **File**: ethernet_sbi_gmii_demo_th.vhd
## Diagram

![Diagram](ethernet_sbi_gmii_demo_th.svg "Diagram")
## Description

================================================================================================================================
 Copyright 2020 Bitvis
 Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.
 You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 and in the provided LICENSE.TXT.

 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on
 an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and limitations under the License.
================================================================================================================================
 Note : Any functionality not explicitly described in the documentation is subject to change at any time
--------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
 Description : See library quick reference (under 'doc') and README-file(s)
----------------------------------------------------------------------------------------
=================================================================================================
 Test harness entity
=================================================================================================
## Generics

| Generic name  | Type | Value | Description |
| ------------- | ---- | ----- | ----------- |
| GC_CLK_PERIOD | time |       |             |
## Signals

| Name           | Type                                                                                                                                                                                                                                                              | Description |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| clk            | std_logic                                                                                                                                                                                                                                                         |             |
| sbi_if         | t_sbi_if(addr(C_SBI_ADDR_WIDTH-1 downto 0),<br><span style="padding-left:20px">                                    wdata(C_SBI_DATA_WIDTH-1 downto 0),<br><span style="padding-left:20px">                                    rdata(C_SBI_DATA_WIDTH-1 downto 0)) |             |
| gmii_vvc_tx_if | t_gmii_tx_if                                                                                                                                                                                                                                                      |             |
| gmii_vvc_rx_if | t_gmii_rx_if                                                                                                                                                                                                                                                      |             |
## Constants

| Name                                  | Type                                                               | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Description                                                                                           |
| ------------------------------------- | ------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------- |
| C_VVC_ETH_SBI                         | natural                                                            |  1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                       |
| C_VVC_SBI                             | natural                                                            |  1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                       |
| C_VVC_ETH_GMII                        | natural                                                            |  2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                       |
| C_VVC_GMII                            | natural                                                            |  2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                       |
| C_DUT_IF_FIELD_CONFIG_DIRECTION_ARRAY | t_dut_if_field_config_direction_array(TRANSMIT to RECEIVE)(0 to 5) |      (TRANSMIT => (0 => (dut_address => C_ETH_ADDR_INVALID,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => false,<br><span style="padding-left:20px"> field_description => "TX Preamble and SFD"),<br><span style="padding-left:20px">                   1 => (dut_address => C_ETH_ADDR_MAC_DEST,<br><span style="padding-left:20px"> dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "TX MAC destination "),<br><span style="padding-left:20px">                   2 => (dut_address => C_ETH_ADDR_MAC_SRC,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "TX MAC source      "),<br><span style="padding-left:20px">                   3 => (dut_address => C_ETH_ADDR_PAY_LEN,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "TX payload length  "),<br><span style="padding-left:20px">                   4 => (dut_address => C_ETH_ADDR_PAYLOAD,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "TX payload         "),<br><span style="padding-left:20px">                   5 => (dut_address => C_ETH_ADDR_INVALID,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => false,<br><span style="padding-left:20px"> field_description => "TX FCS             ")),<br><span style="padding-left:20px">     RECEIVE =>   (0 => (dut_address => C_ETH_ADDR_INVALID,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "RX NOT USING ADDR  "),<br><span style="padding-left:20px">                   1 => (dut_address => C_ETH_ADDR_INVALID,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "RX NOT USING ADDR  "),<br><span style="padding-left:20px">                   2 => (dut_address => C_ETH_ADDR_INVALID,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "RX NOT USING ADDR  "),<br><span style="padding-left:20px">                   3 => (dut_address => C_ETH_ADDR_INVALID,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "RX NOT USING ADDR  "),<br><span style="padding-left:20px">                   4 => (dut_address => C_ETH_ADDR_INVALID,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "RX NOT USING ADDR  "),<br><span style="padding-left:20px">                   5 => (dut_address => C_ETH_ADDR_INVALID,<br><span style="padding-left:20px">  dut_address_increment => 0,<br><span style="padding-left:20px"> data_width => C_SBI_DATA_WIDTH,<br><span style="padding-left:20px"> use_field => true,<br><span style="padding-left:20px">  field_description => "RX NOT USING ADDR  "))     ) |  Configuration for the Ethernet MAC field addresses (only applicable for SBI, use default for GMII).  |
## Instantiations

- i1_ethernet_vvc: bitvis_vip_ethernet.ethernet_vvc
**Description**
----------------------------------------
 CPU to MAC interface
----------------------------------------

- i1_sbi_vvc: bitvis_vip_sbi.sbi_vvc
- i_ethernet_mac: work.ethernet_mac
**Description**
----------------------------------------
 Ethernet MAC
----------------------------------------

- i2_ethernet_vvc: bitvis_vip_ethernet.ethernet_vvc
**Description**
----------------------------------------
 MAC to PHY interface
----------------------------------------

- i2_gmii_vvc: bitvis_vip_gmii.gmii_vvc
