
<style>
  table {
    width:70%;
    margin-left: auto;
    margin-right: auto
  }
  svg {
    display:block;  
    width:60%;
    margin-left: auto;
    margin-right: auto
  }
  h1, h2, h3 {
    margin-left:1.5%;
    width:98%;
    font-weight:bold
  }
  code {
    color:#545253;
  }
  p {
    width: 98%;
    color:black;
    margin-top:5px;
    margin-bottom:5px 
  }
  * {
    color:black;
    line-height: 1.6;
  }
  li{
    margin: 20px 0;
  }
  #function_return{
    font-weight: bold;
    color:green;
  }
  #teroshdl_description, li {
    width: 95%;
    margin-left:2%;
    margin-right:2%;
  }
  #function_arguments{
    color:black;
  }
  #descriptions{
    width: 90%;
    margin-left:5.5%;
    margin-right:3%;
  }
  div.templateTerosHDL {
    background-color: white;
    position:absolute;
  }
  td, th {
    padding:2px; 
    border: 1px solid grey;
  }
  th {
    background-color: #ffd78c;
  }
  tr:hover {
    background-color: #ddd;
  }
  tr:nth-child(even){
    background-color: #f2f2f2;
  }
</style>
<div id="teroshdl" class='templateTerosHDL'>
<a id=kmac_core><h1 id="entity-kmac_core">Entity: kmac_core</h1></a><h2 id="diagram">Diagram</h2><p><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 715 350"><svg id="SvgjsSvg1002" width="2" height="0" focusable="false" style="overflow:hidden;top:-100%;left:-100%;position:absolute;opacity:0"><polyline id="SvgjsPolyline1003" points="195,0 210,0"></polyline><path id="SvgjsPath1004" d="M0 0 "></path></svg><rect id="SvgjsRect1006" width="320" height="50" fill="black" x="210" y="0"></rect><rect id="SvgjsRect1007" width="316" height="45" fill="#bdecb6" x="212" y="2"></rect><text id="SvgjsText1008" font-family="Helvetica" x="190" y="-5.698437500000001" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1009" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">   bit </tspan></text><text id="SvgjsText1010" font-family="Helvetica" x="225" y="-5.698437500000001" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1011" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   EnMasking </tspan></text><line id="SvgjsLine1012" x1="195" y1="15" x2="210" y2="15" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1013" font-family="Helvetica" x="190" y="14.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1014" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">   int </tspan></text><text id="SvgjsText1015" font-family="Helvetica" x="225" y="14.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1016" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   Share </tspan></text><line id="SvgjsLine1017" x1="195" y1="35" x2="210" y2="35" stroke-linecap="rec" stroke="black" stroke-width="5"></line><rect id="SvgjsRect1018" width="320" height="290" fill="black" x="210" y="55"></rect><rect id="SvgjsRect1019" width="316" height="285" fill="#fdfd96" x="212" y="57"></rect><text id="SvgjsText1020" font-family="Helvetica" x="190" y="49.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1021" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1022" font-family="Helvetica" x="225" y="49.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1023" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   clk_i </tspan></text><line id="SvgjsLine1024" x1="195" y1="70" x2="210" y2="70" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1025" font-family="Helvetica" x="190" y="69.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1026" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1027" font-family="Helvetica" x="225" y="69.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1028" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   rst_ni </tspan></text><line id="SvgjsLine1029" x1="195" y1="90" x2="210" y2="90" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1030" font-family="Helvetica" x="190" y="89.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1031" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1032" font-family="Helvetica" x="225" y="89.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1033" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   fifo_valid_i </tspan></text><line id="SvgjsLine1034" x1="195" y1="110" x2="210" y2="110" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1035" font-family="Helvetica" x="190" y="109.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1036" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">   [MsgWidth-1:0] </tspan></text><text id="SvgjsText1037" font-family="Helvetica" x="225" y="109.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1038" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   fifo_data_i </tspan></text><line id="SvgjsLine1039" x1="195" y1="130" x2="210" y2="130" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1040" font-family="Helvetica" x="190" y="129.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1041" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">   [MsgStrbW-1:0] </tspan></text><text id="SvgjsText1042" font-family="Helvetica" x="225" y="129.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1043" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   fifo_strb_i </tspan></text><line id="SvgjsLine1044" x1="195" y1="150" x2="210" y2="150" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1045" font-family="Helvetica" x="190" y="149.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1046" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1047" font-family="Helvetica" x="225" y="149.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1048" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   msg_ready_i </tspan></text><line id="SvgjsLine1049" x1="195" y1="170" x2="210" y2="170" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1050" font-family="Helvetica" x="190" y="169.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1051" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1052" font-family="Helvetica" x="225" y="169.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1053" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   kmac_en_i </tspan></text><line id="SvgjsLine1054" x1="195" y1="190" x2="210" y2="190" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1055" font-family="Helvetica" x="190" y="189.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1056" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1057" font-family="Helvetica" x="225" y="189.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1058" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   mode_i </tspan></text><line id="SvgjsLine1059" x1="195" y1="210" x2="210" y2="210" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1060" font-family="Helvetica" x="190" y="209.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1061" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1062" font-family="Helvetica" x="225" y="209.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1063" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   strength_i </tspan></text><line id="SvgjsLine1064" x1="195" y1="230" x2="210" y2="230" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1065" font-family="Helvetica" x="190" y="229.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1066" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">   [MaxKeyLen-1:0] </tspan></text><text id="SvgjsText1067" font-family="Helvetica" x="225" y="229.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1068" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   key_data_i </tspan></text><line id="SvgjsLine1069" x1="195" y1="250" x2="210" y2="250" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1070" font-family="Helvetica" x="190" y="249.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1071" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">   key_len_e </tspan></text><text id="SvgjsText1072" font-family="Helvetica" x="225" y="249.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1073" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   key_len_i </tspan></text><line id="SvgjsLine1074" x1="195" y1="270" x2="210" y2="270" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1075" font-family="Helvetica" x="190" y="269.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1076" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1077" font-family="Helvetica" x="225" y="269.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1078" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   start_i </tspan></text><line id="SvgjsLine1079" x1="195" y1="290" x2="210" y2="290" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1080" font-family="Helvetica" x="190" y="289.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1081" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1082" font-family="Helvetica" x="225" y="289.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1083" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   process_i </tspan></text><line id="SvgjsLine1084" x1="195" y1="310" x2="210" y2="310" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1085" font-family="Helvetica" x="190" y="309.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1086" dy="26" x="190" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1087" font-family="Helvetica" x="225" y="309.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1088" dy="26" x="225" svgjs:data="{&quot;newLined&quot;:true}">   done_i </tspan></text><line id="SvgjsLine1089" x1="195" y1="330" x2="210" y2="330" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1090" font-family="Helvetica" x="550" y="49.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1091" dy="26" x="550" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1092" font-family="Helvetica" x="515" y="49.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1093" dy="26" x="515" svgjs:data="{&quot;newLined&quot;:true}">   fifo_ready_o </tspan></text><line id="SvgjsLine1094" x1="530" y1="70" x2="545" y2="70" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1095" font-family="Helvetica" x="550" y="69.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1096" dy="26" x="550" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1097" font-family="Helvetica" x="515" y="69.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1098" dy="26" x="515" svgjs:data="{&quot;newLined&quot;:true}">   msg_valid_o </tspan></text><line id="SvgjsLine1099" x1="530" y1="90" x2="545" y2="90" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1100" font-family="Helvetica" x="550" y="89.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1101" dy="26" x="550" svgjs:data="{&quot;newLined&quot;:true}">   [MsgWidth-1:0] </tspan></text><text id="SvgjsText1102" font-family="Helvetica" x="515" y="89.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1103" dy="26" x="515" svgjs:data="{&quot;newLined&quot;:true}">   msg_data_o </tspan></text><line id="SvgjsLine1104" x1="530" y1="110" x2="545" y2="110" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1105" font-family="Helvetica" x="550" y="109.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1106" dy="26" x="550" svgjs:data="{&quot;newLined&quot;:true}">   [MsgStrbW-1:0] </tspan></text><text id="SvgjsText1107" font-family="Helvetica" x="515" y="109.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1108" dy="26" x="515" svgjs:data="{&quot;newLined&quot;:true}">   msg_strb_o </tspan></text><line id="SvgjsLine1109" x1="530" y1="130" x2="545" y2="130" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1110" font-family="Helvetica" x="550" y="129.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1111" dy="26" x="550" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1112" font-family="Helvetica" x="515" y="129.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1113" dy="26" x="515" svgjs:data="{&quot;newLined&quot;:true}">   process_o </tspan></text><line id="SvgjsLine1114" x1="530" y1="150" x2="545" y2="150" stroke-linecap="rec" stroke="black" stroke-width="5"></line></svg></p><h2 id="description">Description</h2><div id="teroshdl_description"><p>Copyright lowRISC contributors. Licensed under the Apache License, Version 2.0, see LICENSE for details. SPDX-License-Identifier: Apache-2.0 KMAC control and padding logic</p></div><h2 id="generics">Generics</h2>
<table>
<thead>
<tr>
<th id="generic_name">Generic name</th>
<th id="type">Type</th>
<th id="value">Value</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>EnMasking</td>
<td>bit</td>
<td>0</td>
<td>EnMasking: Enable masking security hardening inside keccak_round If it is enabled, the result digest will be two set of 1600bit.</td>
</tr>
<tr>
<td>Share</td>
<td>int</td>
<td>undefined</td>
<td>derived parameter</td>
</tr>
</tbody>
</table>
<h2 id="ports">Ports</h2>
<table>
<thead>
<tr>
<th id="port_name">Port name</th>
<th id="direction">Direction</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clk_i</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>rst_ni</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>fifo_valid_i</td>
<td>input</td>
<td></td>
<td>From Message FIFO</td>
</tr>
<tr>
<td>fifo_data_i</td>
<td>input</td>
<td>[MsgWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>fifo_strb_i</td>
<td>input</td>
<td>[MsgStrbW-1:0]</td>
<td></td>
</tr>
<tr>
<td>fifo_ready_o</td>
<td>output</td>
<td></td>
<td></td>
</tr>
<tr>
<td>msg_valid_o</td>
<td>output</td>
<td></td>
<td>to SHA3 Core</td>
</tr>
<tr>
<td>msg_data_o</td>
<td>output</td>
<td>[MsgWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>msg_strb_o</td>
<td>output</td>
<td>[MsgStrbW-1:0]</td>
<td></td>
</tr>
<tr>
<td>msg_ready_i</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>kmac_en_i</td>
<td>input</td>
<td></td>
<td>ConfigurationsIf kmac_en is cleared, Core logic doesn't function but forward incoming mesage to SHA3 core</td>
</tr>
<tr>
<td>mode_i</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>strength_i</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>key_data_i</td>
<td>input</td>
<td>[MaxKeyLen-1:0]</td>
<td>Key input from CSR</td>
</tr>
<tr>
<td>key_len_i</td>
<td>input</td>
<td>key_len_e</td>
<td></td>
</tr>
<tr>
<td>start_i</td>
<td>input</td>
<td></td>
<td>Controls : same to SHA3 core</td>
</tr>
<tr>
<td>process_i</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>done_i</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>process_o</td>
<td>output</td>
<td></td>
<td>Control to SHA3 core</td>
</tr>
</tbody>
</table><h2 id="signals">Signals</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>encoded_key</td>
<td>logic [MaxEncodedKeyW-1:0]</td>
<td>represents encode_string(K)</td>
</tr>
<tr>
<td>key_index</td>
<td>logic [sha3_pkg::KeccakMsgAddrW-1:0]</td>
<td>Key slice address This signal controls the 64 bit output of the sliced secret_key.</td>
</tr>
<tr>
<td>inc_keyidx</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>clr_keyidx</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>block_addr_limit</td>
<td>logic [sha3_pkg::KeccakCountW-1:0]</td>
<td><code>sent_blocksize</code> indicates that the encoded key is sent to sha3 hashing engine. If this hits at StKey stage, the state moves to message state.</td>
</tr>
<tr>
<td>sent_blocksize</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>kmac_valid</td>
<td>logic</td>
<td>Internal message signals</td>
</tr>
<tr>
<td>kmac_data</td>
<td>logic [MsgWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>kmac_strb</td>
<td>logic [MsgStrbW-1:0]</td>
<td></td>
</tr>
<tr>
<td>kmac_process</td>
<td>logic</td>
<td>Control SHA3 core <code>kmac_process</code> is to forward the process signal to SHA3 core only after the KMAC core writes the key block in case of the message is empty. If the incoming message is empty, there's chance that the <code>process_i</code> signal can be asserted while KMAC core processing the key block.</td>
</tr>
<tr>
<td>process_latched</td>
<td>logic</td>
<td>Control SHA3 core <code>kmac_process</code> is to forward the process signal to SHA3 core only after the KMAC core writes the key block in case of the message is empty. If the incoming message is empty, there's chance that the <code>process_i</code> signal can be asserted while KMAC core processing the key block.</td>
</tr>
<tr>
<td>en_key_write</td>
<td>logic</td>
<td>Indication of Secret key write stage. Only in this stage, the internal message interface is active.</td>
</tr>
<tr>
<td>en_kmac_datapath</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>key_sliced</td>
<td>logic [MsgWidth-1:0]</td>
<td>Encoded key has wider bits. <code>key_sliced</code> is the data to send to sha3</td>
</tr>
<tr>
<td>unused_mode</td>
<td>sha3_pkg::sha3_mode_e</td>
<td></td>
</tr>
<tr>
<td>st</td>
<td>kmac_st_e</td>
<td></td>
</tr>
<tr>
<td>st_d</td>
<td>kmac_st_e</td>
<td></td>
</tr>
<tr>
<td>encoded_key_block</td>
<td>logic [MaxEncodedKeyW + 16 -1 :0]</td>
<td>Combine the bytepad <code>left_encode(w)</code> and the <code>encode_string(secret_key)</code></td>
</tr>
</tbody>
</table>
<h2 id="constants">Constants</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="value">Value</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Share</td>
<td>int</td>
<td>undefined</td>
<td>derived parameter</td>
</tr>
</tbody>
</table>
<h2 id="types">Types</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>kmac_st_e</td>
<td>enum logic [1:0] {     StKmacIdle,                          StKey,                     StKmacMsg,           StKmacFlush   }</td>
<td></td>
</tr>
</tbody>
</table><h2 id="processes">Processes</h2><ul>
<li>unnamed: ( @(posedge clk_i or negedge rst_ni) )</li>
</ul><div id="descriptions"><p><strong>Description</strong><br />
State register</p></div><ul>
<li>unnamed: (  )</li>
</ul><div id="descriptions"><p><strong>Description</strong><br />
Next state and output logic</p></div><ul>
<li>unnamed: (  )</li>
</ul><ul>
<li>unnamed: ( @(posedge clk_i or negedge rst_ni) )</li>
</ul><ul>
<li>unnamed: (  )</li>
</ul><div id="descriptions"><p><strong>Description</strong><br />
Block size based on the address.<br />
This is used for bytepad() and also pad10*1()<br />
assign block_addr_limit = KeccakRate[strength_i];<br />
but below is easier to understand</p></div><br><br><br><br><br><br>