
<style>
  .markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.markdown-body .anchor {
  float: left;
  line-height: 1;
  margin-left: -20px;
  padding-right: 4px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body h1:hover .anchor .octicon-link:before,
.markdown-body h2:hover .anchor .octicon-link:before,
.markdown-body h3:hover .anchor .octicon-link:before,
.markdown-body h4:hover .anchor .octicon-link:before,
.markdown-body h5:hover .anchor .octicon-link:before,
.markdown-body h6:hover .anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'%3E%3C/path%3E%3C/svg%3E");
}.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  line-height: 1.5;
  color: #24292e;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.markdown-body details {
  display: block;
}

.markdown-body summary {
  display: list-item;
}

.markdown-body a {
  background-color: initial;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline-width: 0;
}

.markdown-body strong {
  font-weight: inherit;
  font-weight: bolder;
}

.markdown-body h1 {
  font-size: 2em;
  margin: .67em 0;
}

.markdown-body img {
  border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace,monospace;
  font-size: 1em;
}

.markdown-body hr {
  box-sizing: initial;
  height: 0;
  overflow: visible;
}

.markdown-body input {
  font: inherit;
  margin: 0;
}

.markdown-body input {
  overflow: visible;
}

.markdown-body [type=checkbox] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body * {
  box-sizing: border-box;
}

.markdown-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body a {
  color: #0366d6;
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body strong {
  font-weight: 600;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
}

.markdown-body hr:after,
.markdown-body hr:before {
  display: table;
  content: "";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body table {
  width:100%;
  border-spacing: 0;
  border-collapse: collapse;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body th {
    background-color: #ffd78c;
}

.markdown-body details summary {
  cursor: pointer;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #d1d5da;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body h1 {
  font-size: 32px;
}

.markdown-body h1,
.markdown-body h2 {
  font-weight: 600;
}

.markdown-body h2 {
  font-size: 24px;
}

.markdown-body h3 {
  font-size: 20px;
}

.markdown-body h3,
.markdown-body h4 {
  font-weight: 600;
}

.markdown-body h4 {
  font-size: 16px;
}

.markdown-body h5 {
  font-size: 14px;
}

.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
}

.markdown-body h6 {
  font-size: 12px;
}

.markdown-body p {
  margin-top: 0;
  margin-bottom: 10px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ol ol ol,
.markdown-body ol ul ol,
.markdown-body ul ol ol,
.markdown-body ul ul ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre {
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body input::-webkit-inner-spin-button,
.markdown-body input::-webkit-outer-spin-button {
  margin: 0;
  -webkit-appearance: none;
  appearance: none;
}

.markdown-body :checked+.radio-label {
  position: relative;
  z-index: 1;
  border-color: #0366d6;
}

.markdown-body .border {
  border: 1px solid #e1e4e8!important;
}

.markdown-body .border-0 {
  border: 0!important;
}

.markdown-body .border-bottom {
  border-bottom: 1px solid #e1e4e8!important;
}

.markdown-body .rounded-1 {
  border-radius: 3px!important;
}

.markdown-body .bg-white {
  background-color: #fff!important;
}

.markdown-body .bg-gray-light {
  background-color: #fafbfc!important;
}

.markdown-body .text-gray-light {
  color: #6a737d!important;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-top: 8px!important;
  margin-bottom: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-top: 0!important;
  padding-bottom: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-top: 8px!important;
  padding-bottom: 8px!important;
}

.markdown-body .pl-3,
.markdown-body .px-3 {
  padding-left: 16px!important;
}

.markdown-body .px-3 {
  padding-right: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .f6 {
  font-size: 12px!important;
}

.markdown-body .lh-condensed {
  line-height: 1.25!important;
}

.markdown-body .text-bold {
  font-weight: 600!important;
}

.markdown-body .pl-c {
  color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #6f42c1;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #24292e;
}

.markdown-body .pl-ent {
  color: #22863a;
}

.markdown-body .pl-k {
  color: #d73a49;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #032f62;
}

.markdown-body .pl-smw,
.markdown-body .pl-v {
  color: #e36209;
}

.markdown-body .pl-bu {
  color: #b31d28;
}

.markdown-body .pl-ii {
  color: #fafbfc;
  background-color: #b31d28;
}

.markdown-body .pl-c2 {
  color: #fafbfc;
  background-color: #d73a49;
}

.markdown-body .pl-c2:before {
  content: "^M";
}

.markdown-body .pl-sr .pl-cce {
  font-weight: 700;
  color: #22863a;
}

.markdown-body .pl-ml {
  color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  font-weight: 700;
  color: #005cc5;
}

.markdown-body .pl-mi {
  font-style: italic;
  color: #24292e;
}

.markdown-body .pl-mb {
  font-weight: 700;
  color: #24292e;
}

.markdown-body .pl-md {
  color: #b31d28;
  background-color: #ffeef0;
}

.markdown-body .pl-mi1 {
  color: #22863a;
  background-color: #f0fff4;
}

.markdown-body .pl-mc {
  color: #e36209;
  background-color: #ffebda;
}

.markdown-body .pl-mi2 {
  color: #f6f8fa;
  background-color: #005cc5;
}

.markdown-body .pl-mdr {
  font-weight: 700;
  color: #6f42c1;
}

.markdown-body .pl-ba {
  color: #586069;
}

.markdown-body .pl-sg {
  color: #959da5;
}

.markdown-body .pl-corl {
  text-decoration: underline;
  color: #032f62;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-bottom: 8px!important;
}

.markdown-body .my-2 {
  margin-top: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-top: 0!important;
  padding-bottom: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-top: 8px!important;
  padding-bottom: 8px!important;
}

.markdown-body .pl-3 {
  padding-left: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .pl-7 {
  padding-left: 48px!important;
}

.markdown-body .pl-8 {
  padding-left: 64px!important;
}

.markdown-body .pl-9 {
  padding-left: 80px!important;
}

.markdown-body .pl-10 {
  padding-left: 96px!important;
}

.markdown-body .pl-11 {
  padding-left: 112px!important;
}

.markdown-body .pl-12 {
  padding-left: 128px!important;
}

.markdown-body hr {
  border-bottom-color: #eee;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #d1d5da;
}

.markdown-body:after,
.markdown-body:before {
  display: table;
  content: "";
}

.markdown-body:after {
  clear: both;
}

.markdown-body>:first-child {
  margin-top: 0!important;
}

.markdown-body>:last-child {
  margin-bottom: 0!important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body blockquote,
.markdown-body details,
.markdown-body dl,
.markdown-body ol,
.markdown-body p,
.markdown-body pre,
.markdown-body table,
.markdown-body ul {
  width:100%;

  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: .25em;
  padding: 0;
  margin: 24px 0;
  background-color: #e1e4e8;
  border: 0;
}

.markdown-body blockquote {
  padding: 0 1em;
  color: #6a737d;
  border-left: .25em solid #dfe2e5;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: 600;
  line-height: 1.25;
}

.markdown-body h1 {
  font-size: 2em;
}

.markdown-body h1,
.markdown-body h2 {
  padding-bottom: .3em;
  border-bottom: 1px solid #eaecef;
}

.markdown-body h2 {
  font-size: 1.5em;
}

.markdown-body h3 {
  font-size: 1.25em;
}

.markdown-body h4 {
  font-size: 1em;
}

.markdown-body h5 {
  font-size: .875em;
}

.markdown-body h6 {
  font-size: .85em;
  color: #6a737d;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 2em;
}

.markdown-body ol ol,
.markdown-body ol ul,
.markdown-body ul ol,
.markdown-body ul ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li {
  word-wrap: break-all;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: .25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body table {
  width: 100%;
}

.markdown-body table th {
  font-weight: 600;
}

.markdown-body table td,
.markdown-body table th {
  padding: 6px 13px;
  border: 1px solid #dfe2e5;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.markdown-body img {
  max-width: 100%;
  box-sizing: initial;
  background-color: #fff;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body code {
  padding: .2em .4em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(27,31,35,.05);
  border-radius: 3px;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f6f8fa;
  border-radius: 3px;
}

.markdown-body pre code {
  display: inline;
  max-width: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  line-height: inherit;
  word-wrap: normal;
  background-color: initial;
  border: 0;
}

.markdown-body .commit-tease-sha {
  display: inline-block;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 90%;
  color: #444d56;
}

.markdown-body .full-commit .btn-outline:not(:disabled):hover {
  color: #005cc5;
  border-color: #005cc5;
}

.markdown-body .blob-wrapper {
  overflow-x: auto;
  overflow-y: hidden;
}

.markdown-body .blob-wrapper-embedded {
  max-height: 240px;
  overflow-y: auto;
}

.markdown-body .blob-num {
  width: 1%;
  min-width: 50px;
  padding-right: 10px;
  padding-left: 10px;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 12px;
  line-height: 20px;
  color: rgba(27,31,35,.3);
  text-align: right;
  white-space: nowrap;
  vertical-align: top;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.markdown-body .blob-num:hover {
  color: rgba(27,31,35,.6);
}

.markdown-body .blob-num:before {
  content: attr(data-line-number);
}

.markdown-body .blob-code {
  position: relative;
  padding-right: 10px;
  padding-left: 10px;
  line-height: 20px;
  vertical-align: top;
}

.markdown-body .blob-code-inner {
  overflow: visible;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 12px;
  color: #24292e;
  word-wrap: normal;
  white-space: pre;
}

.markdown-body .pl-token.active,
.markdown-body .pl-token:hover {
  cursor: pointer;
  background: #ffea7f;
}

.markdown-body .tab-size[data-tab-size="1"] {
  -moz-tab-size: 1;
  tab-size: 1;
}

.markdown-body .tab-size[data-tab-size="2"] {
  -moz-tab-size: 2;
  tab-size: 2;
}

.markdown-body .tab-size[data-tab-size="3"] {
  -moz-tab-size: 3;
  tab-size: 3;
}

.markdown-body .tab-size[data-tab-size="4"] {
  -moz-tab-size: 4;
  tab-size: 4;
}

.markdown-body .tab-size[data-tab-size="5"] {
  -moz-tab-size: 5;
  tab-size: 5;
}

.markdown-body .tab-size[data-tab-size="6"] {
  -moz-tab-size: 6;
  tab-size: 6;
}

.markdown-body .tab-size[data-tab-size="7"] {
  -moz-tab-size: 7;
  tab-size: 7;
}

.markdown-body .tab-size[data-tab-size="8"] {
  -moz-tab-size: 8;
  tab-size: 8;
}

.markdown-body .tab-size[data-tab-size="9"] {
  -moz-tab-size: 9;
  tab-size: 9;
}

.markdown-body .tab-size[data-tab-size="10"] {
  -moz-tab-size: 10;
  tab-size: 10;
}

.markdown-body .tab-size[data-tab-size="11"] {
  -moz-tab-size: 11;
  tab-size: 11;
}

.markdown-body .tab-size[data-tab-size="12"] {
  -moz-tab-size: 12;
  tab-size: 12;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}
.markdown-body .description {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}

</style>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>TerosHDL</title>
  <style>
    body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 1080px;
      margin: 0 auto;
      padding: 45px;
    }
  </style>
  </head>
  <body>
  <article class="markdown-body">

<div id="teroshdl" class='templateTerosHDL'>
<a id=otp_ctrl_scrmbl><h1 id="entity-otp_ctrl_scrmbl">Entity: otp_ctrl_scrmbl</h1></a><h2 id="diagram">Diagram</h2><p><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 845 190"><svg id="SvgjsSvg1002" width="2" height="0" focusable="false" style="overflow:hidden;top:-100%;left:-100%;position:absolute;opacity:0"><polyline id="SvgjsPolyline1003" points="265,0 280,0"></polyline><path id="SvgjsPath1004" d="M0 0 "></path></svg><rect id="SvgjsRect1006" width="300" height="170" fill="black" x="280" y="15"></rect><rect id="SvgjsRect1007" width="296" height="165" fill="#fdfd96" x="282" y="17"></rect><text id="SvgjsText1008" font-family="Helvetica" x="260" y="9.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1009" dy="26" x="260" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1010" font-family="Helvetica" x="295" y="9.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1011" dy="26" x="295" svgjs:data="{&quot;newLined&quot;:true}">   clk_i </tspan></text><line id="SvgjsLine1012" x1="265" y1="30" x2="280" y2="30" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1013" font-family="Helvetica" x="260" y="29.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1014" dy="26" x="260" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1015" font-family="Helvetica" x="295" y="29.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1016" dy="26" x="295" svgjs:data="{&quot;newLined&quot;:true}">   rst_ni </tspan></text><line id="SvgjsLine1017" x1="265" y1="50" x2="280" y2="50" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1018" font-family="Helvetica" x="260" y="49.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1019" dy="26" x="260" svgjs:data="{&quot;newLined&quot;:true}">   otp_scrmbl_cmd_e </tspan></text><text id="SvgjsText1020" font-family="Helvetica" x="295" y="49.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1021" dy="26" x="295" svgjs:data="{&quot;newLined&quot;:true}">   cmd_i </tspan></text><line id="SvgjsLine1022" x1="265" y1="70" x2="280" y2="70" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1023" font-family="Helvetica" x="260" y="69.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1024" dy="26" x="260" svgjs:data="{&quot;newLined&quot;:true}">   digest_mode_e </tspan></text><text id="SvgjsText1025" font-family="Helvetica" x="295" y="69.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1026" dy="26" x="295" svgjs:data="{&quot;newLined&quot;:true}">   mode_i </tspan></text><line id="SvgjsLine1027" x1="265" y1="90" x2="280" y2="90" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1028" font-family="Helvetica" x="260" y="89.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1029" dy="26" x="260" svgjs:data="{&quot;newLined&quot;:true}">   [ConstSelWidth-1:0] </tspan></text><text id="SvgjsText1030" font-family="Helvetica" x="295" y="89.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1031" dy="26" x="295" svgjs:data="{&quot;newLined&quot;:true}">   sel_i </tspan></text><line id="SvgjsLine1032" x1="265" y1="110" x2="280" y2="110" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1033" font-family="Helvetica" x="260" y="109.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1034" dy="26" x="260" svgjs:data="{&quot;newLined&quot;:true}">   [ScrmblBlockWidth-1:0] </tspan></text><text id="SvgjsText1035" font-family="Helvetica" x="295" y="109.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1036" dy="26" x="295" svgjs:data="{&quot;newLined&quot;:true}">   data_i </tspan></text><line id="SvgjsLine1037" x1="265" y1="130" x2="280" y2="130" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1038" font-family="Helvetica" x="260" y="129.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1039" dy="26" x="260" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1040" font-family="Helvetica" x="295" y="129.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1041" dy="26" x="295" svgjs:data="{&quot;newLined&quot;:true}">   valid_i </tspan></text><line id="SvgjsLine1042" x1="265" y1="150" x2="280" y2="150" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1043" font-family="Helvetica" x="260" y="149.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1044" dy="26" x="260" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1045" font-family="Helvetica" x="295" y="149.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1046" dy="26" x="295" svgjs:data="{&quot;newLined&quot;:true}">   escalate_en_i </tspan></text><line id="SvgjsLine1047" x1="265" y1="170" x2="280" y2="170" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1048" font-family="Helvetica" x="600" y="9.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1049" dy="26" x="600" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1050" font-family="Helvetica" x="565" y="9.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1051" dy="26" x="565" svgjs:data="{&quot;newLined&quot;:true}">   ready_o </tspan></text><line id="SvgjsLine1052" x1="580" y1="30" x2="595" y2="30" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1053" font-family="Helvetica" x="600" y="29.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1054" dy="26" x="600" svgjs:data="{&quot;newLined&quot;:true}">   [ScrmblBlockWidth-1:0] </tspan></text><text id="SvgjsText1055" font-family="Helvetica" x="565" y="29.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1056" dy="26" x="565" svgjs:data="{&quot;newLined&quot;:true}">   data_o </tspan></text><line id="SvgjsLine1057" x1="580" y1="50" x2="595" y2="50" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1058" font-family="Helvetica" x="600" y="49.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1059" dy="26" x="600" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1060" font-family="Helvetica" x="565" y="49.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1061" dy="26" x="565" svgjs:data="{&quot;newLined&quot;:true}">   valid_o </tspan></text><line id="SvgjsLine1062" x1="580" y1="70" x2="595" y2="70" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1063" font-family="Helvetica" x="600" y="69.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1064" dy="26" x="600" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1065" font-family="Helvetica" x="565" y="69.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1066" dy="26" x="565" svgjs:data="{&quot;newLined&quot;:true}">   fsm_err_o </tspan></text><line id="SvgjsLine1067" x1="580" y1="90" x2="595" y2="90" stroke-linecap="rec" stroke="black" stroke-width="5"></line></svg></p><h2 id="description">Description</h2><div id="teroshdl_description"><p>Copyright lowRISC contributors. Licensed under the Apache License, Version 2.0, see LICENSE for details. SPDX-License-Identifier: Apache-2.0 This module contains the scrambling datapath for the OTP controller. It basically consists of two single-round PRESENT primitives (one for encryption and one for decryption mode), a counter with a simple FSM and four working registers, as listed below. key_state_q (128bit): working register to hold the round key (needed for the key schedule). data_state_q (64bit): working register to hold the data state in between rounds. data_shadow_q (64bit): shadow register for holding a second 64bit block of input data. This is used to form a 128bit data block for the digest mode, which has a block size of 128bit. digest_state_q (64bit): register to hold the digest state in between digest updates. Technically, this is not needed when the data for the digest is fed into this block back-to-back. However, the partition integrity checks require that it is possible to interleave encryption operations and digest update steps, hence an additional state register is needed, as otherwise the digest state would be lost. The scrambling datapath is arranged such that it can also be used for calculating a digest using the encryption primitive in a Merkle-Damgard construction. To that end, the PRESENT block cipher is turned into a one way function according to the Davies-Meyer scheme. Note however that this makes the digest block size 128bit wide, since the Merkle-Damgard construction leverages the cipher key input to ingest data. The scrambling datapath exposes a few simple commands and the FSM hides the complexity of steering the appropriate muxes and keeping track of the cipher rounds. These commands are briefly explained below. Decrypt: This decrypts the data block provided via data_i with the key at index sel_i. Encrypt: This encrypts the data block provided via data_i with the key at index sel_i. In addition, this command copies the prvious result into a shadow register before the first encryption round for later use in the digest (see description further below). This enables interleaved encrypt/digest operation needed for the integrity checks of the secret partitions. LoadShadow: In "StandardMode", the LoadShadow command loads the data provided via data_i into a shadow register that is mapped to the lower 64bit of the 128bit digest input data block. In "ChainedMode", this command copies the contents of the data state register into the shadow register. DigestInit: This ensures that the digest initialization vector (IV) is selected upon the next call of the Digest command. Also, mode_i can be used to set the digest mode. If mode_i is set to "StandardMode", the data to be digested has to be provided via data_i and LoadShadow. If mode_i is set to "ChainedMode", the digest input is formed by concatenating the results of the revious two encryption commands. Digest: In "StandardMode", this command concatenates the data input supplied via data_i with the shadow register in order to form a 128bit block ({data_i, data_shadow_q}). This block is then used to encrypt the digest state. In "ChainedMode" digest mode, the 128bit block to be digested is formed by concatenating {data_state_q, data_shadow_q}. If a DigestInit command has been executed right before calling Digest, the IV selected with sel_i is used to initialize the state. DigestFinalize: This command encrypts the digest state with the finalization constant selected by sel_i in order to form the final digest. References: - <a href="https://docs.opentitan.org/hw/ip/otp_ctrl/doc/index.html#design-details">https://docs.opentitan.org/hw/ip/otp_ctrl/doc/index.html#design-details</a></p><ul><li><a href="https://docs.opentitan.org/hw/ip/prim/doc/prim_present/">https://docs.opentitan.org/hw/ip/prim/doc/prim_present/</a></li><li><a href="https://en.wikipedia.org/wiki/Merkle-Damgard_construction">https://en.wikipedia.org/wiki/Merkle-Damgard_construction</a></li><li><a href="https://en.wikipedia.org/wiki/One-way_compression_function#Davies%E2%80%93Meyer">https://en.wikipedia.org/wiki/One-way_compression_function#Davies%E2%80%93Meyer</a></li><li><a href="https://en.wikipedia.org/wiki/PRESENT">https://en.wikipedia.org/wiki/PRESENT</a></li><li><a href="http://www.lightweightcrypto.org/present/present_ches2007.pdf">http://www.lightweightcrypto.org/present/present_ches2007.pdf</a></li></ul></div><h2 id="ports">Ports</h2>
<table>
<thead>
<tr>
<th id="port_name">Port name</th>
<th id="direction">Direction</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clk_i</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>rst_ni</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>cmd_i</td>
<td>input</td>
<td>otp_scrmbl_cmd_e</td>
<td>input data and command</td>
</tr>
<tr>
<td>mode_i</td>
<td>input</td>
<td>digest_mode_e</td>
<td></td>
</tr>
<tr>
<td>sel_i</td>
<td>input</td>
<td>[ConstSelWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>data_i</td>
<td>input</td>
<td>[ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>valid_i</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ready_o</td>
<td>output</td>
<td></td>
<td></td>
</tr>
<tr>
<td>data_o</td>
<td>output</td>
<td>[ScrmblBlockWidth-1:0]</td>
<td>output data</td>
</tr>
<tr>
<td>valid_o</td>
<td>output</td>
<td></td>
<td></td>
</tr>
<tr>
<td>escalate_en_i</td>
<td>input</td>
<td></td>
<td>escalation input and FSM error indication</td>
</tr>
<tr>
<td>fsm_err_o</td>
<td>output</td>
<td></td>
<td></td>
</tr>
</tbody>
</table><h2 id="signals">Signals</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>otp_enc_key_lut</td>
<td>logic [2**$clog2(NumScrmblKeys)-1:0][ScrmblKeyWidth-1:0]</td>
<td>Align these arrays to power of 2's to prevent X's in the muxing operations further below.</td>
</tr>
<tr>
<td>otp_dec_key_lut</td>
<td>logic [2**$clog2(NumScrmblKeys)-1:0][ScrmblKeyWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>digest_const_lut</td>
<td>logic [2**$clog2(NumDigestSets)-1:0][ScrmblKeyWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>digest_iv_lut</td>
<td>logic [2**$clog2(NumDigestSets)-1:0][ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>idx_state_d</td>
<td>logic [4:0]</td>
<td></td>
</tr>
<tr>
<td>idx_state_q</td>
<td>logic [4:0]</td>
<td></td>
</tr>
<tr>
<td>key_state_d</td>
<td>logic [ScrmblKeyWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>key_state_q</td>
<td>logic [ScrmblKeyWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>data_state_d</td>
<td>logic [ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>data_state_q</td>
<td>logic [ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>data_shadow_q</td>
<td>logic [ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>digest_state_d</td>
<td>logic [ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>digest_state_q</td>
<td>logic [ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>enc_data_out</td>
<td>logic [ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>enc_data_out_xor</td>
<td>logic [ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>dec_data_out</td>
<td>logic [ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>dec_key_out</td>
<td>logic [ScrmblKeyWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>enc_key_out</td>
<td>logic [ScrmblKeyWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>dec_idx_out</td>
<td>logic [4:0]</td>
<td></td>
</tr>
<tr>
<td>enc_idx_out</td>
<td>logic [4:0]</td>
<td></td>
</tr>
<tr>
<td>otp_digest_const_mux</td>
<td>logic [ScrmblKeyWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>otp_enc_key_mux</td>
<td>logic [ScrmblKeyWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>otp_dec_key_mux</td>
<td>logic [ScrmblKeyWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>otp_digest_iv_mux</td>
<td>logic [ScrmblBlockWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>digest_init</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>data_state_sel</td>
<td>data_state_sel_e</td>
<td></td>
</tr>
<tr>
<td>key_state_sel</td>
<td>key_state_sel_e</td>
<td></td>
</tr>
<tr>
<td>data_state_en</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>data_shadow_copy</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>data_shadow_load</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>digest_state_en</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>key_state_en</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>digest_mode_d</td>
<td>digest_mode_e</td>
<td></td>
</tr>
<tr>
<td>digest_mode_q</td>
<td>digest_mode_e</td>
<td></td>
</tr>
<tr>
<td>state_d</td>
<td>state_e</td>
<td></td>
</tr>
<tr>
<td>state_q</td>
<td>state_e</td>
<td></td>
</tr>
<tr>
<td>cnt_d</td>
<td>logic [CntWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>cnt_q</td>
<td>logic [CntWidth-1:0]</td>
<td></td>
</tr>
<tr>
<td>cnt_clr</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>cnt_en</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>valid_d</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>valid_q</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>state_raw_q</td>
<td>logic [StateWidth-1:0]</td>
<td>This primitive is used to place a size-only constraint on the flops in order to prevent FSM state encoding optimizations.</td>
</tr>
</tbody>
</table>
<h2 id="constants">Constants</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="value">Value</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>StateWidth</td>
<td>int</td>
<td>9</td>
<td></td>
</tr>
<tr>
<td>CntWidth</td>
<td>int</td>
<td>$clog2(NumPresentRounds+1)</td>
<td></td>
</tr>
<tr>
<td>LastPresentRoundInt</td>
<td>int unsigned</td>
<td>NumPresentRounds - 1</td>
<td></td>
</tr>
<tr>
<td>LastPresentRound</td>
<td>bit [CntWidth-1:0]</td>
<td>undefined</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="types">Types</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data_state_sel_e</td>
<td>enum logic [2:0] {SelEncDataOut,                             SelDecDataOut,                             SelDigestState,                             SelEncDataOutXor,                             SelDataInput}</td>
<td></td>
</tr>
<tr>
<td>key_state_sel_e</td>
<td>enum logic [2:0] {SelDecKeyOut,                             SelEncKeyOut,                             SelDecKeyInit,                             SelEncKeyInit,                             SelDigestConst,                             SelDigestInput,                             SelDigestChained}</td>
<td></td>
</tr>
<tr>
<td>state_e</td>
<td>enum logic [StateWidth-1:0] {     IdleSt    = 9'b100010111,     DecryptSt = 9'b001010000,     EncryptSt = 9'b011001011,     DigestSt  = 9'b100101000,     ErrorSt   = 9'b010111101   }</td>
<td></td>
</tr>
</tbody>
</table><h2 id="processes">Processes</h2><ul>
<li>p_luts: (  )</li>
</ul><ul>
<li>p_fsm: (  )</li>
</ul><ul>
<li>p_regs: ( @(posedge clk_i or negedge rst_ni) )</li>
</ul><h2 id="instantiations">Instantiations</h2><ul>
<li>u_prim_present_enc: prim_present</li>
</ul><ul>
<li>u_prim_present_dec: prim_present</li>
</ul><ul>
<li>u_state_regs: prim_flop</li>
</ul>
    </article class="markdown-body">

    </body>
    
    <br><br><br><br><br><br>