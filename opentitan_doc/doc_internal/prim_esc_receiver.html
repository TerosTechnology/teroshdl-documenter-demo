
<style>
  table {
    width:70%;
    margin-left: auto;
    margin-right: auto
  }
  svg {
    display:block;  
    width:60%;
    height:40%;
    margin-left: auto;
    margin-right: auto
  }
  h1, h2, h3 {
    margin-left:1.5%;
    width:98%;
    font-weight:bold
  }
  code {
    color:#545253;
  }
  p {
    width: 98%;
    color:black;
    margin-top:5px;
    margin-bottom:5px 
  }
  * {
    color:black;
    line-height: 1.6;
  }
  li{
    margin: 20px 0;
  }
  #function_return{
    font-weight: bold;
    color:green;
  }
  #teroshdl_description, li {
    width: 98%;
    margin-left:2%;
    margin-right:2%;
  }
  #function_arguments{
    color:blue;
  }
  div.templateTerosHDL {
    background-color: white;
    position:absolute;
  }
  td, th {
    padding:7px; 
    border: 1px solid grey;
  }
  th {
    background-color: #ffd78c;
  }
  tr:hover {
    background-color: #ddd;
  }
  tr:nth-child(even){
    background-color: #f2f2f2;
  }
</style>
<div id="teroshdl" class='templateTerosHDL'>
<a id=prim_esc_receiver><h1 id="entity-prim_esc_receiver">Entity: prim_esc_receiver</h1></a><h2 id="diagram">Diagram</h2><p><svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 518.3333333333334 210"><svg id="SvgjsSvg1002" width="2" height="0" focusable="false" style="overflow:hidden;top:-100%;left:-100%;position:absolute;opacity:0"><polyline id="SvgjsPolyline1003" points="125,0 140,0"></polyline><path id="SvgjsPath1004" d="M0 0 "></path></svg><rect id="SvgjsRect1006" width="253.33333333333337" height="130" fill="black" x="140" y="0"></rect><rect id="SvgjsRect1007" width="249.33333333333337" height="125" fill="#bdecb6" x="142" y="2"></rect><text id="SvgjsText1008" font-family="Helvetica" x="120" y="-5.698437500000001" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1009" dy="26" x="120" svgjs:data="{&quot;newLined&quot;:true}">   int </tspan></text><text id="SvgjsText1010" font-family="Helvetica" x="155" y="-5.698437500000001" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1011" dy="26" x="155" svgjs:data="{&quot;newLined&quot;:true}">   N_ESC_SEV </tspan></text><line id="SvgjsLine1012" x1="125" y1="15" x2="140" y2="15" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1013" font-family="Helvetica" x="120" y="14.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1014" dy="26" x="120" svgjs:data="{&quot;newLined&quot;:true}">   int </tspan></text><text id="SvgjsText1015" font-family="Helvetica" x="155" y="14.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1016" dy="26" x="155" svgjs:data="{&quot;newLined&quot;:true}">   PING_CNT_DW </tspan></text><line id="SvgjsLine1017" x1="125" y1="35" x2="140" y2="35" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1018" font-family="Helvetica" x="120" y="34.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1019" dy="26" x="120" svgjs:data="{&quot;newLined&quot;:true}">   int </tspan></text><text id="SvgjsText1020" font-family="Helvetica" x="155" y="34.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1021" dy="26" x="155" svgjs:data="{&quot;newLined&quot;:true}">   MarginFactor </tspan></text><line id="SvgjsLine1022" x1="125" y1="55" x2="140" y2="55" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1023" font-family="Helvetica" x="120" y="54.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1024" dy="26" x="120" svgjs:data="{&quot;newLined&quot;:true}">   int </tspan></text><text id="SvgjsText1025" font-family="Helvetica" x="155" y="54.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1026" dy="26" x="155" svgjs:data="{&quot;newLined&quot;:true}">   NumWaitCounts </tspan></text><line id="SvgjsLine1027" x1="125" y1="75" x2="140" y2="75" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1028" font-family="Helvetica" x="120" y="74.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1029" dy="26" x="120" svgjs:data="{&quot;newLined&quot;:true}">   int </tspan></text><text id="SvgjsText1030" font-family="Helvetica" x="155" y="74.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1031" dy="26" x="155" svgjs:data="{&quot;newLined&quot;:true}">   NumTimeoutCounts </tspan></text><line id="SvgjsLine1032" x1="125" y1="95" x2="140" y2="95" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1033" font-family="Helvetica" x="120" y="94.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1034" dy="26" x="120" svgjs:data="{&quot;newLined&quot;:true}">   int </tspan></text><text id="SvgjsText1035" font-family="Helvetica" x="155" y="94.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1036" dy="26" x="155" svgjs:data="{&quot;newLined&quot;:true}">   TimeoutCntDw </tspan></text><line id="SvgjsLine1037" x1="125" y1="115" x2="140" y2="115" stroke-linecap="rec" stroke="black" stroke-width="5"></line><rect id="SvgjsRect1038" width="253.33333333333337" height="70" fill="black" x="140" y="135"></rect><rect id="SvgjsRect1039" width="249.33333333333337" height="65" fill="#fdfd96" x="142" y="137"></rect><text id="SvgjsText1040" font-family="Helvetica" x="120" y="129.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1041" dy="26" x="120" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1042" font-family="Helvetica" x="155" y="129.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1043" dy="26" x="155" svgjs:data="{&quot;newLined&quot;:true}">   clk_i </tspan></text><line id="SvgjsLine1044" x1="125" y1="150" x2="140" y2="150" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1045" font-family="Helvetica" x="120" y="149.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1046" dy="26" x="120" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1047" font-family="Helvetica" x="155" y="149.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1048" dy="26" x="155" svgjs:data="{&quot;newLined&quot;:true}">   rst_ni </tspan></text><line id="SvgjsLine1049" x1="125" y1="170" x2="140" y2="170" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1050" font-family="Helvetica" x="120" y="169.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1051" dy="26" x="120" svgjs:data="{&quot;newLined&quot;:true}">   esc_tx_t </tspan></text><text id="SvgjsText1052" font-family="Helvetica" x="155" y="169.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1053" dy="26" x="155" svgjs:data="{&quot;newLined&quot;:true}">   esc_tx_i </tspan></text><line id="SvgjsLine1054" x1="125" y1="190" x2="140" y2="190" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1055" font-family="Helvetica" x="413.33333333333337" y="129.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1056" dy="26" x="413.33333333333337" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1057" font-family="Helvetica" x="378.33333333333337" y="129.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1058" dy="26" x="378.33333333333337" svgjs:data="{&quot;newLined&quot;:true}">   esc_en_o </tspan></text><line id="SvgjsLine1059" x1="393.33333333333337" y1="150" x2="408.33333333333337" y2="150" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1060" font-family="Helvetica" x="413.33333333333337" y="149.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1061" dy="26" x="413.33333333333337" svgjs:data="{&quot;newLined&quot;:true}">   esc_rx_t </tspan></text><text id="SvgjsText1062" font-family="Helvetica" x="378.33333333333337" y="149.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1063" dy="26" x="378.33333333333337" svgjs:data="{&quot;newLined&quot;:true}">   esc_rx_o </tspan></text><line id="SvgjsLine1064" x1="393.33333333333337" y1="170" x2="408.33333333333337" y2="170" stroke-linecap="rec" stroke="black" stroke-width="5"></line></svg></p><h2 id="description">Description</h2><div id="teroshdl_description"><p>Copyright lowRISC contributors. Licensed under the Apache License, Version 2.0, see LICENSE for details. SPDX-License-Identifier: Apache-2.0 This module decodes escalation enable pulses that have been encoded using the prim_esc_sender module. The module supports in-band ping testing of the escalation wires. This is accomplished by the sender module that places a single-cycle, differentially encoded pulse on esc_p/n which will be interpreted as a ping request by the receiver module. The receiver module responds by sending back the response pattern "1010". Native escalation enable pulses are differentiated from ping requests by making sure that these pulses are always longer than 1 cycle. See also: prim_esc_sender, prim_diff_decode, alert_handler</p></div><h2 id="generics">Generics</h2>
<table>
<thead>
<tr>
<th id="generic_name">Generic name</th>
<th id="type">Type</th>
<th id="value">Value</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>N_ESC_SEV</td>
<td>int</td>
<td>4</td>
<td>The number of escalation severities. Should be set to the Alert Handler's N_ESC_SEV when this primitive is instantiated.</td>
</tr>
<tr>
<td>PING_CNT_DW</td>
<td>int</td>
<td>16</td>
<td>The width of the Alert Handler's ping counter. Should be set to the Alert Handler's PING_CNT_DW when this primitive is instantiated.</td>
</tr>
<tr>
<td>MarginFactor</td>
<td>int</td>
<td>4</td>
<td>Do NOT modify this counter value, when instantiating it in the design. It is only exposed to reduce the state space in the FPV testbench.</td>
</tr>
<tr>
<td>NumWaitCounts</td>
<td>int</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>NumTimeoutCounts</td>
<td>int</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>TimeoutCntDw</td>
<td>int</td>
<td>$clog2(Marg</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="ports">Ports</h2>
<table>
<thead>
<tr>
<th id="port_name">Port name</th>
<th id="direction">Direction</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clk_i</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>rst_ni</td>
<td>input</td>
<td></td>
<td></td>
</tr>
<tr>
<td>esc_en_o</td>
<td>output</td>
<td></td>
<td>escalation enable</td>
</tr>
<tr>
<td>esc_rx_o</td>
<td>output</td>
<td>esc_rx_t</td>
<td>escalation / ping response</td>
</tr>
<tr>
<td>esc_tx_i</td>
<td>input</td>
<td>esc_tx_t</td>
<td>escalation output diff pair</td>
</tr>
</tbody>
</table><h2 id="signals">Signals</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>esc_level</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>esc_p</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>esc_n</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>sigint_detected</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>ping_en</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>esc_en</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>cnt_q</td>
<td>logic [1:0][TimeoutCntDw-1:0]</td>
<td></td>
</tr>
<tr>
<td>state_d</td>
<td>state_e</td>
<td></td>
</tr>
<tr>
<td>state_q</td>
<td>state_e</td>
<td></td>
</tr>
<tr>
<td>resp_pd</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>resp_pq</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>resp_nd</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>resp_nq</td>
<td>logic</td>
<td></td>
</tr>
<tr>
<td>resp_p</td>
<td>esc_tx_i</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="constants">Constants</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="value">Value</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>MarginFactor</td>
<td>int</td>
<td>4</td>
<td>Do NOT modify this counter value, when instantiating it in the design. It is only exposed to reduce the state space in the FPV testbench.</td>
</tr>
<tr>
<td>NumWaitCounts</td>
<td>int</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>NumTimeoutCounts</td>
<td>int</td>
<td>2</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="types">Types</h2>
<table>
<thead>
<tr>
<th id="name">Name</th>
<th id="type">Type</th>
<th id="description">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>state_e</td>
<td>enum logic [2:0] {Idle, Check, PingResp, EscResp, SigInt}</td>
<td></td>
</tr>
</tbody>
</table><h2 id="processes">Processes</h2>
<ul>
<li><p>p_fsm: <em>(  )</em></p></li>
<li><p>p_regs: <em>( @(posedge clk_i or negedge rst_ni) )</em></p></li>
</ul><h2 id="instantiations">Instantiations</h2>
<ul>
<li><p>u_prim_buf_esc: prim_buf<br />
<strong>Description</strong><br />
This prevents further tool optimizations of the differential signal.</p></li>
<li><p>u_decode_esc: prim_diff_decode</p></li>
<li><p>u_prim_generic_flop: prim_generic_flop<br />
<strong>Description</strong><br />
This prevents further tool optimizations of the differential signal.</p></li>
</ul><br><br><br><br><br><br>